"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5909],{4592:(e,t,s)=>{s.d(t,{A:()=>r});function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!/^[\d.]*$/.test(e)||(e.match(/\./g)||[]).length>1)return null;if(e.includes(".")){let s=e.split(".");if(s[1]&&s[1].length>t)return null}return e}},9730:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(54568),n=s(30124),a=s(61773);function l(e){let{company:t,showTicker:s=!0}=e;if(!t)return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-layer-3 rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-20"})]});let l=t.hyperliquidCoin;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full overflow-hidden",children:(0,r.jsx)(a.default,{src:t.logo,alt:t.name,width:32,height:32})}),(0,r.jsx)("span",{className:"font-sans text-md",children:t.name}),s&&(0,r.jsx)("div",{className:"text-xs text-muted text-center bg-layer-3 rounded px-2 py-1",children:(0,n.A)(l)})]})}},10489:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(54568),n=s(4931);function a(e){let{checked:t,onChange:s,id:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{id:a,type:"checkbox",checked:t,onChange:e=>s(e.target.checked),className:"peer relative appearance-none shrink-0 w-4 h-4 border-2 border-layer-4 rounded-sm bg-layer-4 focus:outline-none focus:ring-offset-0 checked:bg-brand-green checked:border-0 cursor-pointer"}),(0,r.jsx)(n.A,{strokeWidth:3,className:"absolute w-4 h-4 hidden peer-checked:block pointer-events-none text-white"})]})}},12068:(e,t,s)=>{s.d(t,{v:()=>i});var r=s(79307),n=s(7620),a=s(14482),l=s(90030);function i(e){let t=(0,a.n)(),s=(0,l.A)(),i=e||s,[o,d]=(0,n.useState)([]),c=(0,n.useMemo)(()=>({type:"openOrders",dex:t,user:i}),[t,i]),u=(0,n.useCallback)(e=>{var t;return(null==(t=e.user)?void 0:t.toLowerCase())!==(null==i?void 0:i.toLowerCase())?null:(d(e.orders),e.orders)},[i]),m=(0,r.k)({payload:c,extractData:u,initialData:[],enabled:!!i});return null===m?o:m}},15904:(e,t,s)=>{s.d(t,{B:()=>a});var r=s(5598),n=s(14482);function a(e){let t=(0,n.n)();return(0,r.EE)({coin:e,dex:t})}},17798:(e,t,s)=>{s.d(t,{A:()=>y});var r=s(54568),n=s(77841),a=s(12068),l=s(90030),i=s(24990),o=s(67991),d=s(79458),c=s(88032),u=s(15328),m=s(59588),x=s(89145),p=s(68262),h=s(61773),f=s(27261),v=s.n(f),j=s(7620),b=s(51874),g=s(63360),N=s(62711),w=s(93348);function y(e){var t;let{className:s,user:n}=e,o=(0,a.v)(n),{timezone:d,setTimezone:c}=(0,m.U)(),u=!n||n.toLowerCase()===(null==(t=(0,l.A)())?void 0:t.toLowerCase()),x=o.filter(e=>!e.isPositionTpsl);return(0,r.jsx)("div",{className:(0,i.A)("w-full",s),children:(0,r.jsxs)("div",{className:"grid grid-cols-[2fr_1fr_2fr_2fr_2fr_2fr_3fr_1fr] items-center text-left",children:[(0,r.jsx)(N.A,{className:"pr-6 md:pl-4",children:"MARKET"}),(0,r.jsx)(N.A,{children:"SIDE"}),(0,r.jsx)(N.A,{children:"PRICE"}),(0,r.jsx)(N.A,{children:"SIZE / AMOUNT"}),(0,r.jsx)(N.A,{children:"REDUCE ONLY"}),(0,r.jsx)(N.A,{children:"TRIGGER"}),(0,r.jsx)(N.A,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"TIME"}),(0,r.jsx)("button",{type:"button",className:"bg-layer-3 px-2 py-1 rounded text-xs text-muted cursor-pointer uppercase",onClick:()=>c("utc"===d?"local":"utc"),children:"utc"===d?"UTC":"Local"})]})}),(0,r.jsx)(N.A,{}),x.map(e=>(0,r.jsx)(A,{order:e,isSelf:u},e.oid)),0===x.length&&(0,r.jsxs)("div",{className:"col-span-7 py-6 md:py-12 text-left md:text-center font-sans",children:[(0,r.jsx)("div",{className:"text-lg",children:"Place an order"}),(0,r.jsx)("div",{className:"text-md text-muted",children:u?"You have no open orders":"User has no open orders"})]})]})})}function A(e){let{order:t,isSelf:s}=e,[a,l]=(0,j.useState)(!1),i=(0,n.s)(),u="Stop Market"===t.orderType||"Take Profit Market"===t.orderType?"Market":(0,d.A)(new x.W(t.limitPx).toNumber()),m=(0,c.A)(Number.parseFloat(t.sz),{maxDecimalPlaces:4}),h=(0,d.A)(Number.parseFloat(t.sz)*Number.parseFloat(t.limitPx)),f=async e=>{let t="cancelling-order-".concat(Date.now());try{b.oR.loading("Cancelling order",{id:t}),await i(e)?b.oR.success("Order cancelled",{id:t}):b.oR.dismiss(t)}catch(e){b.oR.error("Failed to cancel order",{id:t,description:e instanceof Error?e.message:"Unknown error",duration:5e3})}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"pr-6 md:pl-4",isRowHovered:a,setIsRowHovered:l,children:(0,r.jsxs)(v(),{href:"/trade/".concat((0,o.A)(t.coin)),className:"flex items-center justify-start gap-2",children:[(0,r.jsx)(k,{coin:t.coin}),(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-[2px]",children:[(0,r.jsx)(C,{coin:t.coin}),(0,r.jsx)("div",{className:"text-xs uppercase text-muted",children:t.orderType})]})]})}),(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsx)("span",{className:"text-sm uppercase ".concat("B"===t.side?"text-brand-green":"text-brand-red"),children:"B"===t.side?"Long":"Short"})}),(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsx)("span",{className:"text-sm",children:u})}),(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-[2px]",children:[(0,r.jsx)("span",{className:"text-sm",children:h}),(0,r.jsx)("span",{className:"text-xs text-muted",children:m})]})}),(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsx)("div",{className:"text-sm uppercase text-muted",children:!0===t.reduceOnly?(0,r.jsx)("span",{children:"TRUE"}):(0,r.jsx)("span",{className:"text-muted",children:"FALSE"})})}),(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsx)("div",{className:"text-sm uppercase text-muted",children:t.isTrigger?(0,r.jsx)("span",{children:t.triggerCondition}):(0,r.jsx)("span",{className:"text-muted",children:"--"})})}),(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsx)(w.A,{timestamp:t.timestamp})}),s?(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsx)("button",{type:"button",onClick:()=>f(t),className:"text-right flex items-center justify-center text-muted hover:text-brand-red transition-colors","aria-label":"Delete order",children:(0,r.jsx)(p.A,{size:"16"})})}):(0,r.jsx)(g.A,{isRowHovered:a,setIsRowHovered:l,children:(0,r.jsx)("span",{})})]})}function k(e){let{coin:t}=e,s=(0,u.$g)(t);return s?(0,r.jsx)("div",{className:"w-6 h-6 rounded-full overflow-hidden shrink-0",children:(0,r.jsx)(h.default,{src:s.logo,alt:s.name,width:32,height:32})}):(0,r.jsx)("div",{className:"w-6 h-6 bg-layer-3 rounded-full animate-pulse"})}function C(e){let{coin:t}=e,s=(0,u.$g)(t);return s?(0,r.jsx)("span",{className:"font-sans text-md",children:s.name}):(0,r.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-20"})}},18107:(e,t,s)=>{s.d(t,{A:()=>N});var r=s(54568),n=s(9730),a=s(90806),l=s(67107),i=s(61574),o=s(15904),d=s(92551),c=s(40896),u=s(30124),m=s(79458),x=s(88032),p=s(34652),h=s(15328),f=s(43859),v=s(85194),j=s(89145),b=s(7620),g=s(51874);function N(e){let{isOpen:t,onClose:s,position:n}=e;return null==n?null:(0,r.jsx)(w,{isOpen:t,onClose:s,position:n})}function w(e){let{isOpen:t,onClose:s,position:N}=e,[w,y]=(0,b.useState)("Market"),[A,k]=(0,b.useState)(100),[C,P]=(0,b.useState)(""),[S,R]=(0,b.useState)(!1),E=(0,i.A)(N.position.coin),L=(0,c.V)(),H=(0,o.B)(N.position.coin),F=(0,h.$g)(N.position.coin),{midPrice:T,bestBid:D,bestAsk:I}=(0,d.A)(N.position.coin);if(!N||!E)return null;let M=Number.parseFloat(N.position.szi)>0,O=Number.parseFloat(N.position.szi),_=A/100*Math.abs(O),U=M?D:I;"Limit"===w&&Number.parseFloat(C)>0&&(U=new j.W(C));let z=null==U?void 0:U.mul(_).toNumber(),W=async()=>{k(100),P(""),s()},G=async()=>{let e="closing-position-".concat(Date.now());if(!H)throw Error("Asset ID not found");R(!0);try{let t;if("Market"===w)t=M?j.W.div(E.markPx,f.x):j.W.mul(E.markPx,f.x);else{if(!C||0>=Number.parseFloat(C)){g.oR.error("Please enter a valid limit price"),R(!1);return}t=new j.W(C)}let s=[{a:H,b:!M,p:(0,v.k)(t).toString(),s:(0,p.G)(_).toString(),r:!0,t:{limit:{tif:"Market"===w?"FrontendMarket":"Gtc"}}}];g.oR.loading("Placing ".concat(w.toLowerCase()," close order"),{id:e});let r=await L({orders:s,grouping:"na"});if(!r||"ok"!==r.status){g.oR.dismiss(e),R(!1),console.log("Close order response:",r),g.oR.error("Failed to place close order");return}g.oR.success("".concat(w," close order placed successfully"),{id:e,duration:1500}),W()}catch(t){if(t&&"object"==typeof t&&"code"in t&&"ACTION_REJECTED"===t.code){g.oR.dismiss(e),R(!1),W();return}g.oR.error("Failed to place close order",{id:e,description:t instanceof Error?t.message:"Unknown error",duration:5e3})}finally{R(!1)}};return(0,r.jsx)(a.A,{isOpen:t,onClose:W,className:"max-w-md",children:(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("h2",{className:"text-xl font-medium font-sans",children:"Close position"})}),(0,r.jsxs)("div",{className:"flex bg-layer-2 rounded-lg p-1",children:[(0,r.jsx)("button",{type:"button",onClick:()=>y("Market"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors uppercase ".concat("Market"===w?"bg-layer-1 text-default shadow-sm":"text-muted hover:text-default"),children:"Market"}),(0,r.jsx)("button",{type:"button",onClick:()=>y("Limit"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors uppercase ".concat("Limit"===w?"bg-layer-1 text-default shadow-sm":"text-muted hover:text-default"),children:"Limit"})]}),(0,r.jsxs)("div",{className:"bg-layer-2 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)(n.A,{company:F,showTicker:!1}),(0,r.jsxs)("span",{className:"text-sm font-medium ".concat(M?"text-brand-green":"text-brand-red"),children:[(0,x.A)(Math.abs(O),{maxDecimalPlaces:3})," ",(0,u.A)(N.position.coin)]})]}),(0,r.jsx)("div",{className:"text-xs text-muted font-sans",children:"Market"===w?"This will close your position and cancel its associated TP/SL orders":"This will place a limit order to close your position"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("span",{className:"text-sm text-muted uppercase",children:"Size"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium",children:[(0,x.A)(_,{maxDecimalPlaces:3})," ",(0,u.A)(N.position.coin)]}),(0,r.jsx)("span",{className:"text-sm",children:z?"(".concat((0,m.A)(z),")"):""})]})]}),(0,r.jsx)(l.A,{value:A,onChange:k,className:"mb-2"})]}),"Limit"===w&&(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)("div",{className:"bg-layer-1 border border-border-default rounded p-4 flex items-center justify-between relative",children:[(0,r.jsx)("div",{className:"text-muted text-sm font-medium uppercase",children:"Price (USD)"}),(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,r.jsx)("input",{id:"limit-price",type:"text",value:C,onChange:e=>P(e.target.value),placeholder:"0.00",className:"flex-1 text-default font-bold text-xl bg-transparent border-none outline-none text-right w-20",inputMode:"decimal"}),(0,r.jsx)("button",{type:"button",onClick:()=>P((null==T?void 0:T.toString())||""),className:"text-brand-green text-xs font-medium uppercase hover:text-brand-green transition-colors",children:"MID"})]})]})}),(0,r.jsx)("button",{type:"button",onClick:G,disabled:S||"Limit"===w&&!C,className:"w-full py-3 px-4 bg-brand-red text-white rounded uppercase hover:bg-brand-red/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:S?"Placing Order...":"".concat(w," Close")})]})})}},24674:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(89145),n=s(79458);function a(e){return e>=1e3?{value:(0,n.A)(new r.A(e).toNumber()/1e3,{maxDecimalPlaces:4}),unit:"T"}:e<=1?{value:(0,n.A)(1e3*new r.A(e).toNumber()),unit:"M"}:{value:(0,n.A)(new r.A(e).toNumber()),unit:"B"}}},25059:(e,t,s)=>{s.d(t,{A:()=>d});var r=s(54568),n=s(45546),a=s(24990),l=s(67754),i=s(44057),o=s(7620);function d(e){let{className:t,title:s,content:d,children:c}=e,u=(0,n.B)(),[m,x]=(0,o.useState)(!1);return(0,r.jsx)(l.Kq,{children:(0,r.jsxs)(l.bL,{delayDuration:0,open:u?m:void 0,onOpenChange:u?x:void 0,children:[(0,r.jsx)(l.l9,{asChild:!0,onClick:e=>{u&&(e.preventDefault(),console.log("open value",m),x(!m))},children:c||(0,r.jsx)(i.A,{className:"w-4 h-4 text-muted hover:text-default cursor-pointer"})}),(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{className:(0,a.A)("font-sans z-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 w-64",t),side:"top",align:"center",sideOffset:5,onPointerDownOutside:()=>{u&&x(!1)},children:(0,r.jsxs)("div",{className:"p-3 bg-layer-1 rounded-lg shadow-lg border border-border-default",children:[s&&(0,r.jsx)("p",{className:"text-xs text-default font-medium",children:s}),(0,r.jsx)("p",{className:"text-xs text-default",children:d})]})})})]})})}},27650:(e,t,s)=>{s.d(t,{v:()=>l});var r=s(58820),n=s(14482),a=s(65364);function l(){let e=(0,n.n)(),t=(0,a.b)();return(0,r.v)({dex:e,isTestnet:t})}},34652:(e,t,s)=>{s.d(t,{G:()=>n});var r=s(89145);function n(e){return new r.A(e).abs().toDecimalPlaces(3,r.A.ROUND_DOWN)}},40896:(e,t,s)=>{s.d(t,{V:()=>d,W:()=>o});var r=s(47236),n=s(80294),a=s(44903),l=s(46786),i=s(65364),o=function(e){return e.Alo="Alo",e.Ioc="Ioc",e.Gtc="Gtc",e}({});function d(){let{user:e}=(0,a.Jd)(),t=(0,i.b)(),{accountExists:s,refreshAccountExists:o}=(0,l.X)(),{agentWallet:d,promptApproveNewAgent:c}=(0,r.q)();return async r=>{if(!(null==e?void 0:e.wallet))throw Error("Wallet not connected");if(!s&&!await o())throw Error("Hyperliquid account does not exist for this wallet.");let a=d;if(!a){let e=await c();if(null===e)return console.warn("User denied agent approval"),null;a=e}let l=new n.PM({transport:new n.G5({isTestnet:t,fetchOptions:{keepalive:!1}}),isTestnet:t,wallet:a});console.log("[client] placing order with params:",r);let i=await l.order(r);return console.log("[client] order response:",i),i}}},42615:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(65364);function n(e){return(0,r.b)()?"https://app.hyperliquid-testnet.xyz/explorer/tx/".concat(e):"https://app.hyperliquid.xyz/explorer/tx/".concat(e)}},43859:(e,t,s)=>{s.d(t,{x:()=>r});let r=1.2},45546:(e,t,s)=>{s.d(t,{B:()=>n});var r=s(7620);function n(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e,s=()=>{t(window.innerWidth<768)},r=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];clearTimeout(e),e=setTimeout(()=>s(...r),150)};return s(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e}},46140:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(58438);function n(e,t){let{numberString:s,isNegative:n}=(0,r.f)(e,t);return n?"-$".concat(s):"$".concat(s)}},56390:(e,t,s)=>{s.d(t,{f:()=>a});var r=s(79307),n=s(7620);function a(e){let t=(0,n.useCallback)(t=>t.coin!==e?null:t,[e]),s=(0,n.useMemo)(()=>({type:"l2Book",coin:e,nSigFigs:null,mantissa:null}),[e]);return(0,r.k)({payload:s,extractData:t,initialData:null})}},58438:(e,t,s)=>{function r(e,t){let{numberString:s,isNegative:r}=n(e,t);return r?"-".concat(s):s}function n(e,t){var s,r;let n=null!=(s=null==t?void 0:t.maxDecimalPlaces)?s:2,l=null!=(r=null==t?void 0:t.variant)?r:"short",i=e<0,o=Math.abs(e),d=a(o,n);return d>=1e12?{numberString:"".concat((o/1e12).toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n}),"T"),isNegative:i}:d>=1e9?{numberString:"".concat((o/1e9).toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n}),"B"),isNegative:i}:d>=1e6?{numberString:"".concat((o/1e6).toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n}),"M"),isNegative:i}:d>=1e5&&"long"===l||d>=1e3&&"short"===l?{numberString:"".concat((o/1e3).toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n}),"k"),isNegative:i}:{numberString:o.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n}),isNegative:i}}s.d(t,{A:()=>r,f:()=>n});let a=(e,t)=>{let s=10**t;return Math.round(e*s)/s}},58820:(e,t,s)=>{s.d(t,{v:()=>l});var r=s(80294),n=s(67933);async function a(e){let{dex:t,isTestnet:s}=e,n=new r.G5({isTestnet:s,fetchOptions:{keepalive:!1}}),a=new r.Cf({transport:n});return new Map((await a.meta({dex:t})).universe.map((e,t)=>[e.name,{...e,index:t}]))}function l(e){let{dex:t,isTestnet:s}=e;return(0,n.I)({queryKey:["metaLookup",t,s],queryFn:()=>a({dex:t,isTestnet:s}),staleTime:3e5,gcTime:6e5})}},61574:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(88343),n=s(27650);function a(e){var t;let s=(0,r.S)(),a=null==(t=(0,n.v)().data)?void 0:t.get(e);if(!a)return;let l=s[a.index];if(l)return l}},61705:(e,t,s)=>{s.d(t,{S:()=>a});var r=s(7620),n=s(79307);function a(e){let{dex:t}=e,s=(0,r.useMemo)(()=>({type:"assetCtxs",dex:t}),[t]),a=(0,r.useCallback)(e=>e.ctxs,[]);return(0,n.k)({payload:s,extractData:a,initialData:[]})}},62711:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(54568),n=s(24990);function a(e){let{className:t,children:s}=e;return(0,r.jsx)("div",{className:(0,n.A)("border-b border-dotted border-border-default text-muted font-mono text-xs font-normal self-stretch"),children:(0,r.jsx)("div",{className:(0,n.A)("py-3 pr-4 h-full flex items-center",t),children:s})})}},63360:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(54568),n=s(24990),a=s(27261),l=s.n(a);function i(e){let{className:t,children:s,href:a,isRowHovered:i,setIsRowHovered:o}=e;return a?(0,r.jsx)(l(),{href:a,className:(0,n.A)("border-b border-dotted border-border-default self-stretch",i?"bg-layer-2":""),children:(0,r.jsx)("div",{className:(0,n.A)("py-3 pr-4 h-full flex items-center",t),onMouseEnter:()=>null==o?void 0:o(!0),onMouseLeave:()=>null==o?void 0:o(!1),children:s})}):(0,r.jsx)("div",{className:(0,n.A)("border-b border-dotted border-border-default self-stretch",i?"bg-layer-2":""),children:(0,r.jsx)("div",{className:(0,n.A)("py-3 pr-4 h-full flex items-center",t),onMouseEnter:()=>null==o?void 0:o(!0),onMouseLeave:()=>null==o?void 0:o(!1),children:s})})}},67107:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(54568),n=s(7620);function a(e){let{value:t,onChange:s,className:a="",disabled:l=!1,showPercentage:i=!0}=e,o=Math.min(t,100),[d,c]=(0,n.useState)(!1),[u,m]=(0,n.useState)(o.toString()),x=(0,n.useRef)(null);(0,n.useEffect)(()=>{m(Math.min(o,100).toString())},[o]);let p=(0,n.useCallback)(e=>{if(!x.current)return;let t=x.current.getBoundingClientRect();s(Math.round(Math.max(0,Math.min(100,(e-t.left)/t.width*100))))},[s]),h=(0,n.useCallback)(e=>{l||(e.preventDefault(),c(!0),p(e.clientX))},[p,l]),f=(0,n.useCallback)(e=>{d&&p(e.clientX)},[d,p]),v=(0,n.useCallback)(()=>{c(!1)},[]),j=(0,n.useCallback)(e=>{var t,s;e.preventDefault(),c(!0),p(null!=(s=null==(t=e.touches[0])?void 0:t.clientX)?s:0)},[p]),b=(0,n.useCallback)(e=>{if(d&&e.touches.length>0){let t=e.touches[0];t&&p(t.clientX)}},[d,p]),g=(0,n.useCallback)(()=>{c(!1)},[]);(0,n.useEffect)(()=>{if(d)return document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.addEventListener("mousemove",f),document.addEventListener("mouseup",v),document.addEventListener("touchmove",b),document.addEventListener("touchend",g),document.addEventListener("contextmenu",N),document.addEventListener("selectstart",N),()=>{document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",g),document.removeEventListener("contextmenu",N),document.removeEventListener("selectstart",N)}},[d,f,v,b,g]);let N=e=>{e.preventDefault()},w=e=>{e.preventDefault()},y=Array.from({length:5},(e,t)=>t/4*100);return(0,r.jsx)("div",{className:"w-full pl-2 ".concat(a),children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{ref:x,className:"relative w-full h-2 bg-layer-4 rounded-full cursor-pointer select-none",onMouseDown:h,onTouchStart:j,onDragStart:w,children:[y.map(e=>(0,r.jsx)("div",{className:"absolute w-4 h-4 bg-layer-4 border-2 border-layer-4 rounded-full transform -translate-x-1/2 -translate-y-1/2 top-1/2",style:{left:"".concat(e,"%")}},"step-".concat(e))),(0,r.jsx)("div",{className:"absolute w-4 h-4 bg-brand-green border-2 border-brand-green rounded-full transform -translate-x-1/2 -translate-y-1/2 top-1/2 cursor-grab active:cursor-grabbing shadow-md select-none",style:{left:"".concat(o,"%")},onDragStart:w})]})}),i&&(0,r.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,r.jsx)("input",{type:"number",min:"0",max:"100",step:"1",value:u,onChange:e=>{let t=e.target.value;m(t);let r=Number.parseFloat(t);Number.isNaN(r)||s(Math.max(0,Math.min(100,r)))},onBlur:()=>{m(o.toString())},onKeyDown:e=>{"Enter"===e.key&&e.currentTarget.blur()},className:"w-16 px-2 py-2 pr-6 text-sm border border-border-default rounded focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),(0,r.jsx)("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-muted pointer-events-none",children:"%"})]})]})})}},67991:(e,t,s)=>{s.d(t,{A:()=>r});function r(e){let t=e.split(":");if(0===t.length||t.length>2)throw Error("Invalid coin format");return 1===t.length?t[0]:t[1].toLowerCase()}},70712:(e,t,s)=>{s.d(t,{A:()=>w});var r=s(54568),n=s(42615),a=s(90030),l=s(46240),i=s(24990),o=s(30124),d=s(67991),c=s(79458),u=s(88032),m=s(15328),x=s(59588),p=s(27261),h=s.n(p),f=s(7620),v=s(9730),j=s(92610),b=s(63360),g=s(62711),N=s(93348);function w(e){var t;let{className:s,user:n}=e,o=(0,l.l)(n),{timezone:d,setTimezone:c}=(0,x.U)(),u=!n||n.toLowerCase()===(null==(t=(0,a.A)())?void 0:t.toLowerCase()),[m,p]=(0,f.useState)(1),h=o.length,v=Math.ceil(h/50),b=(0,f.useMemo)(()=>{let e=(m-1)*50;return o.slice(e,e+50)},[o,m]);return(0,r.jsxs)("div",{className:(0,i.A)("w-full",s),children:[(0,r.jsxs)("div",{className:"grid grid-cols-[3fr_3fr_2fr_3fr_2fr_2fr_2fr_4fr] items-center text-left",children:[(0,r.jsx)(g.A,{className:"pr-6 md:pl-4",children:"COMPANY"}),(0,r.jsx)(g.A,{children:"SIDE"}),(0,r.jsx)(g.A,{children:"PRICE"}),(0,r.jsx)(g.A,{children:"SIZE"}),(0,r.jsx)(g.A,{children:"VALUE"}),(0,r.jsx)(g.A,{children:"FEES"}),(0,r.jsx)(g.A,{children:"CLOSED PNL"}),(0,r.jsx)(g.A,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"TIME"}),(0,r.jsx)("button",{type:"button",className:"bg-layer-3 px-2 py-1 rounded text-xs text-muted cursor-pointer uppercase",onClick:()=>c("utc"===d?"local":"utc"),children:"utc"===d?"UTC":"Local"})]})}),b.map(e=>(0,r.jsx)(y,{fill:e},e.tid)),0===o.length&&(0,r.jsxs)("div",{className:"col-span-8 py-6 md:py-12 text-left md:text-center font-sans",children:[(0,r.jsx)("div",{className:"text-lg",children:"Place a trade"}),(0,r.jsx)("div",{className:"text-md text-muted",children:u?"You have no trade history":"User has no trade history"})]})]}),v>1&&(0,r.jsxs)("div",{className:"flex items-center justify-end px-4 py-3 border-t border-layer-3",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-muted",children:[Math.min((m-1)*50+1,h),"-",Math.min(50*m,h)," of ",h]}),(0,r.jsx)(j.A,{currentPage:m,totalPages:v,onPageChange:e=>{p(e)}})]})]})}function y(e){let{fill:t}=e,[s,a]=(0,f.useState)(!1),l=t.coin,x=(0,n.A)(t.hash),p=Number.parseFloat(t.sz),j=Number.parseFloat(t.px),g=Number.parseFloat(t.fee),w=Number.parseFloat(t.closedPnl)-g,y=(0,m.$g)(l);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"pr-6 md:pl-4",isRowHovered:s,setIsRowHovered:a,children:(0,r.jsx)(h(),{href:"/trade/".concat((0,d.A)(l)),children:(0,r.jsx)(v.A,{company:y,showTicker:!1})})}),(0,r.jsx)(b.A,{isRowHovered:s,setIsRowHovered:a,children:(0,r.jsx)("span",{className:"text-sm uppercase ".concat(t.dir.toLowerCase().includes("open long")||t.dir.toLowerCase().includes("close short")?"text-brand-green":t.dir.toLowerCase().includes("open short")||t.dir.toLowerCase().includes("close long")||t.dir.toLowerCase().includes("long > short")?"text-brand-red":t.dir.toLowerCase().includes("short > long")?"text-brand-green":"text-muted"),children:t.dir})}),(0,r.jsx)(b.A,{isRowHovered:s,setIsRowHovered:a,children:(0,r.jsx)("span",{className:"text-sm",children:(0,c.A)(j)})}),(0,r.jsxs)(b.A,{className:"flex items-center gap-2",isRowHovered:s,setIsRowHovered:a,children:[(0,r.jsx)("span",{className:"text-sm",children:(0,u.A)(p,{maxDecimalPlaces:4})}),(0,r.jsx)("span",{className:"text-sm text-muted",children:(0,o.A)(l)})]}),(0,r.jsx)(b.A,{isRowHovered:s,setIsRowHovered:a,children:(0,r.jsx)("span",{className:"text-sm",children:(0,c.A)(p*j)})}),(0,r.jsx)(b.A,{isRowHovered:s,setIsRowHovered:a,children:(0,r.jsx)("span",{className:"text-sm",children:(0,c.A)(Number.parseFloat(t.fee),{maxDecimalPlaces:4})})}),(0,r.jsx)(b.A,{isRowHovered:s,setIsRowHovered:a,children:(0,r.jsx)("span",{className:(0,i.A)("text-sm",w>0?"text-brand-green":"text-brand-red"),children:(0,c.A)(w,{maxDecimalPlaces:4})})}),(0,r.jsx)(b.A,{isRowHovered:s,setIsRowHovered:a,children:(0,r.jsx)(h(),{href:x,target:"_blank",className:"text-sm text-muted hover:text-default hover:underline cursor-pointer",children:(0,r.jsx)(N.A,{timestamp:t.time})})})]})}},73302:(e,t,s)=>{s.d(t,{PW:()=>d,oH:()=>m,xU:()=>c});var r=s(54568),n=s(4592),a=s(85194),l=s(89145),i=s(7620),o=s(10489);function d(e){let{takeProfitPrice:t,setTakeProfitPrice:s,leverage:o,basePrice:d,isLong:c}=e,[u,m]=(0,i.useState)(""),[x,p]=(0,i.useState)(!1),h=(0,i.useCallback)(e=>{let t;if(!d||!e||Number.isNaN(Number(e)))return"";let s=new l.A(e);return(c?s.sub(d).div(d).mul(100):d.sub(s).div(d).mul(100)).mul(o).toFixed(2)},[d,o,c]),f=(0,i.useCallback)(e=>{let t;if(!d||!e||Number.isNaN(Number(e)))return"";let s=new l.A(e).div(o);return(c?d.mul(s.div(100).add(1)):d.mul(new l.A(1).sub(s.div(100)))).toFixed(6)},[d,o,c]),v=e=>{p(!1);let t=(0,n.A)(e);null!==t&&(s(t),m(h(t)))},j=(0,i.useCallback)(e=>{p(!0);let t=(0,n.A)(e);if(null!==t){m(t);let e=f(t);s((0,a.k)(e||"0").toString())}},[f,s]);return(0,i.useEffect)(()=>{d&&t&&!Number.isNaN(Number(t))&&!x&&m(h(t))},[d,t,h,x]),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"text",placeholder:"ENTER PRICE",value:t,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 text-sm bg-layer-1 border border-border-default rounded placeholder:text-muted focus:outline-none"})}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"% GAIN",value:u,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 pr-6 text-sm bg-layer-1 border border-border-default rounded placeholder:text-muted focus:outline-none"}),(0,r.jsx)("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-muted pointer-events-none",children:"%"})]})]})}function c(e){let{stopLossPrice:t,setStopLossPrice:s,leverage:o,basePrice:d,isLong:c}=e,[u,m]=(0,i.useState)(""),[x,p]=(0,i.useState)(!1),h=(0,i.useCallback)(e=>{let t;if(!d||!e||Number.isNaN(Number(e)))return"";let s=new l.A(e);return(c?d.sub(s).div(d).mul(100):s.sub(d).div(d).mul(100)).mul(o).toFixed(2)},[d,o,c]),f=(0,i.useCallback)(e=>{let t;if(!d||!e||Number.isNaN(Number(e)))return"";let s=new l.A(e).div(o);return(c?d.mul(new l.A(1).sub(s.div(100))):d.mul(new l.A(1).add(s.div(100)))).toFixed(6)},[d,o,c]),v=e=>{p(!1);let t=(0,n.A)(e);null!==t&&(s(t),m(h(t)))},j=(0,i.useCallback)(e=>{p(!0);let t=(0,n.A)(e);if(null!==t){m(t);let e=f(t);s((0,a.k)(e||"0").toString())}},[f,s]);return(0,i.useEffect)(()=>{d&&t&&!Number.isNaN(Number(t))&&!x&&m(h(t))},[d,t,h,x]),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"text",placeholder:"ENTER PRICE",value:t,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 text-sm bg-layer-1 border border-border-default rounded placeholder:text-muted focus:outline-none"})}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"% LOSS",value:u,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 pr-6 text-sm bg-layer-1 border border-border-default rounded placeholder:text-muted focus:outline-none"}),(0,r.jsx)("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-muted pointer-events-none",children:"%"})]})]})}function u(e){let{takeProfitPrice:t,setTakeProfitPrice:s,stopLossPrice:n,setStopLossPrice:a,leverage:l,basePrice:i,isLong:o,showTakeProfit:u=!0,showStopLoss:m=!0}=e;return(0,r.jsxs)("div",{className:"flex w-full flex-col space-y-2",children:[u&&(0,r.jsx)(d,{takeProfitPrice:t,setTakeProfitPrice:s,leverage:l,basePrice:i,isLong:o}),m&&(0,r.jsx)(c,{stopLossPrice:n,setStopLossPrice:a,leverage:l,basePrice:i,isLong:o})]})}function m(e){let{showTPSL:t,setShowTPSL:s,takeProfitPrice:n,setTakeProfitPrice:a,stopLossPrice:l,setStopLossPrice:i,leverage:d,basePrice:c,isLong:m}=e;return(0,r.jsxs)("div",{className:"flex flex-row flex-1 gap-4",children:[(0,r.jsx)("div",{className:"flex flex-1 w-1/3 items-start gap-3",children:(0,r.jsxs)("label",{htmlFor:"tp-sl-checkbox",className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)(o.A,{checked:t,onChange:s,id:"tp-sl-checkbox"}),(0,r.jsx)("span",{className:"text-sm font-medium text-muted hover:text-default",children:"TP / SL"})]})}),t&&(0,r.jsx)("div",{className:"flex w-2/3",children:(0,r.jsx)(u,{takeProfitPrice:n,setTakeProfitPrice:a,stopLossPrice:l,setStopLossPrice:i,leverage:d,basePrice:c,isLong:m})})]})}},77841:(e,t,s)=>{s.d(t,{s:()=>c});var r=s(47236),n=s(80294),a=s(44903),l=s(5598),i=s(46786),o=s(14482),d=s(65364);function c(){let{user:e}=(0,a.Jd)(),t=(0,o.n)(),{accountExists:s,refreshAccountExists:c}=(0,i.X)(),u=(0,d.b)(),{agentWallet:m,promptApproveNewAgent:x}=(0,r.q)();return async r=>{if(!(null==e?void 0:e.wallet))throw Error("Wallet not connected");if(!s&&!await c())throw Error("Hyperliquid account does not exist for this wallet.");let a=m;if(!a){let e=await x();if(null===e)return console.warn("User denied agent approval"),null;a=e}let i={cancels:[{a:(0,l.EE)({coin:r.coin,dex:t}),o:r.oid}]};console.log("[client] canceling order with args:",i);let o=new n.PM({transport:new n.G5({isTestnet:u,fetchOptions:{keepalive:!1}}),isTestnet:u,wallet:a}),d=await o.cancel(i);return console.log("[client] cancel response:",d),d}}},81142:(e,t,s)=>{s.d(t,{A:()=>J});var r=s(54568),n=s(18107),a=s(61574),l=s(80647),i=s(12068),o=s(90030),d=s(24990),c=s(67991),u=s(79458),m=s(88032),x=s(44903),p=s(71164),h=s(72187),f=s(27261),v=s.n(f),j=s(7620),b=s(15328),g=s(61773);function N(e){let{coin:t,className:s}=e,n=(0,b.$g)(t);return n?(0,r.jsx)("div",{className:(0,d.A)("w-6 h-6 rounded-full overflow-hidden",s),children:(0,r.jsx)(g.default,{src:n.logo,alt:n.name,className:"w-full h-full object-cover",width:32,height:32})}):(0,r.jsx)("div",{className:(0,d.A)("w-6 h-6 bg-layer-3 rounded-full animate-pulse",s)})}var w=s(88246),y=s(68007),A=s(72673),k=s(30124),C=s(24674),P=s(59884),S=s(74472),R=s(94515),E=s(15870),L=s(51874);function H(e){let{isOpen:t,onClose:s,position:n}=e;return n?(0,r.jsx)(y.A,{isOpen:t,onClose:s,content:(0,r.jsx)(F,{position:n}),header:(0,r.jsxs)("div",{className:"flex items-center gap-2 font-sans text-lg uppercase",children:[(0,r.jsx)("button",{type:"button",onClick:s,children:(0,r.jsx)(E.A,{className:"w-4 h-4"})}),(0,r.jsx)("span",{children:"Share"})]})}):null}function F(e){var t;let{position:s}=e,{isDarkMode:n}=(0,S.D)(),l=(0,a.A)(s.position.coin),i=100*Number(s.position.returnOnEquity),o=(0,C.A)(Number(s.position.entryPx)),d=(0,C.A)(Number(null!=(t=null==l?void 0:l.midPx)?t:0)),c=(0,b.$g)(s.position.coin),u=async()=>{let e=document.getElementById("share-card");if(!e)return void console.error("Share card element not found");let t=await (0,R.ZR)(e,{quality:1,pixelRatio:2,backgroundColor:void 0,style:{transform:"scale(1)",transformOrigin:"top left"}});if(!t)return void console.error("Error generating image");await navigator.clipboard.write([new ClipboardItem({"image/png":t})]),L.oR.success("Copied to clipboard")},m=async()=>{try{let e=document.getElementById("share-card");if(!e)return void console.error("Share card element not found");let t=await (0,R.$E)(e,{quality:1,pixelRatio:2,backgroundColor:void 0}),r=document.createElement("a");r.href=t,r.download="ventuals-".concat((0,k.A)(s.position.coin),"-position.png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(e){console.error("Error generating image:",e)}};return(0,r.jsxs)("div",{className:"p-4 space-y-6 text-default font-sans",children:[(0,r.jsx)("h3",{className:"text-sm uppercase text-muted",children:"Preview"}),(0,r.jsx)("div",{className:"my-auto flex justify-center md:scale-150 md:my-16",children:(0,r.jsxs)("div",{id:"share-card",className:"bg-layer-1 w-[323px] text-default border border-border-default rounded-lg p-5 shadow-sm relative",children:[(0,r.jsx)("img",{src:n?"/images/ventuals-wireframe-dark.svg":"/images/ventuals-wireframe.svg",alt:"Ventuals Wireframe",width:120,height:120,className:"absolute top-0 right-0 z-0"}),(0,r.jsx)("div",{className:"flex items-start justify-between relative z-10",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xl",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full overflow-hidden",children:(0,r.jsx)("img",{src:null==c?void 0:c.logo,alt:null==c?void 0:c.name,className:"w-full h-full object-cover",width:32,height:32})}),(0,r.jsx)(w.t,{coin:s.position.coin}),(0,r.jsx)("span",{className:"text-[0.625rem] font-mono bg-layer-4 px-2 py-1",children:(0,k.A)(s.position.coin)})]}),(0,r.jsxs)("div",{className:"text-4xl font-normal font-mono ".concat((0,A.v)(i)),children:[i>0?"+":"",(0,P.A)(i,{maxDecimalPlaces:2})]}),(0,r.jsxs)("div",{className:"flex flex-1 flex-row  items-end justify-between text-default",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-muted mb-2",children:"Entry"}),(0,r.jsxs)("div",{className:"text-sm",children:[o.value,(0,r.jsx)("span",{className:" text-muted",children:o.unit})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-muted mb-2",children:"Current"}),(0,r.jsxs)("div",{className:"text-sm",children:[d.value,(0,r.jsx)("span",{className:"text-muted",children:d.unit})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-1 justify-end",children:[(0,r.jsx)("img",{src:n?"/images/logo-dark.png":"/images/logo.png",alt:"Logo",width:16}),(0,r.jsx)("span",{className:"text-xs font-medium text-muted",children:"VENTUALS"})]})]})]})})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)("button",{onClick:m,type:"button",className:"flex-1 bg-layer-4 font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 ",children:"Download"}),(0,r.jsx)("button",{onClick:u,type:"button",className:"flex-1 bg-layer-4 font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 ",children:"Copy to clipboard"})]}),(0,r.jsx)("button",{onClick:()=>{window.open("https://x.com/intent/tweet?text=".concat("Trade pre-IPO companies with 10x leverage on @ventuals_","&url=").concat("ventuals.com"),"_blank")},type:"button",className:"flex-1 w-full bg-brand-green text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2",children:"Share to X"})]})]})}var T=s(77841),D=s(15904),I=s(40896),M=s(46140),O=s(4592),_=s(34652),U=s(43859),z=s(85194),W=s(89145),G=s(10489),B=s(90806),q=s(67107),$=s(73302);function Y(e){let{isOpen:t,onClose:s,position:n,markPrice:a,openTpOrder:l,openSlOrder:i}=e,[o,d]=(0,j.useState)(""),[c,m]=(0,j.useState)(""),[x,p]=(0,j.useState)(!1),[h,f]=(0,j.useState)(0),[v,b]=(0,j.useState)(!1),[g,N]=(0,j.useState)(null),w=(0,T.s)(),y=(0,I.V)(),A=(0,D.B)((null==n?void 0:n.position.coin)||""),[C,P]=(0,j.useState)(null),[S,R]=(0,j.useState)(null),E=Number(null==n?void 0:n.position.szi)>0,H=l&&i,F=()=>{d(""),m(""),p(!1),f(0),b(!1),N(null)},O=()=>{F(),s()},q=async(e,t)=>{let s="cancelling-order-".concat(Date.now());try{L.oR.loading("Cancelling ".concat(t," order"),{id:s}),await w(e)?L.oR.success("".concat(t," order cancelled"),{id:s}):L.oR.dismiss(s)}catch(e){L.oR.error("Failed to cancel ".concat(t," order"),{id:s,description:e instanceof Error?e.message:"Unknown error",duration:5e3})}},Y=async()=>{let e="placing-order-".concat(Date.now()),t=[];if(o){let e;e=C||(E?W.A.div(o,U.x).toString():W.A.mul(o,U.x).toString()),t.push({a:A,b:!E,p:(0,z.k)(e).toString(),r:!0,s:x&&g?(0,_.G)(g).toString():"0",t:{trigger:{isMarket:!C,tpsl:"tp",triggerPx:o}}})}if(c){let e;e=S||(E?W.A.div(c,U.x).toString():W.A.mul(c,U.x).toString()),t.push({a:A,b:!E,p:(0,z.k)(e).toString(),r:!0,s:x&&g?(0,_.G)(g).toString():"0",t:{trigger:{isMarket:!S,tpsl:"sl",triggerPx:c}}})}L.oR.loading("Placing TP/SL orders",{id:e});try{if(!await y({grouping:"positionTpsl",orders:t}))return void L.oR.dismiss(e);L.oR.success("Placed TP/SL orders",{id:e}),O(),F()}catch(t){if(t&&"object"==typeof t&&"code"in t&&"ACTION_REJECTED"===t.code)return void L.oR.dismiss(e);console.error("Error placing order:",t),L.oR.error("TP/SL orders failed",{id:e,description:t instanceof Error?t.message:"Unknown error",duration:5e3})}},Z=c&&n?W.A.sub(c,n.position.entryPx).mul(x&&null!==g?g:n.position.szi):(null==i?void 0:i.triggerPx)&&n?W.A.sub(i.triggerPx,n.position.entryPx).mul(null!=g?g:n.position.szi):null,K=o&&n?W.A.sub(o,n.position.entryPx).mul(x&&null!==g?g:n.position.szi):(null==l?void 0:l.triggerPx)&&n?W.A.sub(l.triggerPx,n.position.entryPx).mul(null!=g?g:n.position.szi):null,J=Z?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted justify-end",children:[(0,r.jsx)("span",{className:"",children:"Expected loss:"}),(0,r.jsx)("span",{className:"",children:(0,M.A)(Z.toNumber())})]}):null,Q=K?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted justify-end",children:[(0,r.jsx)("span",{className:"",children:"Expected profit:"}),(0,r.jsx)("span",{className:"",children:(0,M.A)(K.toNumber())})]}):null,ee=n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-default",children:"TP/SL for Position"}),(0,r.jsx)("button",{type:"button",onClick:O,className:"text-muted hover:text-default transition-colors","aria-label":"Close modal",children:"✕"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Position"}),(0,r.jsxs)("span",{className:"text-default font-medium",children:[(0,r.jsx)("span",{className:"text-brand-green",children:n.position.szi})," ",(0,k.A)(n.position.coin)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Entry Price"}),(0,r.jsx)("span",{className:"text-default font-medium",children:(0,u.A)(Number.parseFloat(n.position.entryPx))})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Mark Price"}),(0,r.jsx)("span",{className:"text-default font-medium",children:(0,u.A)(Number.parseFloat(a))})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Take profit"}),l?(0,r.jsxs)("div",{className:"text-default font-medium flex items-center gap-2",children:[(0,r.jsx)("span",{children:l.triggerCondition}),(0,r.jsx)("button",{type:"button",className:"text-muted hover:text-brand-red  transition-colors",onClick:()=>q(l,"TP"),children:"Cancel"})]}):(0,r.jsx)($.PW,{takeProfitPrice:o,setTakeProfitPrice:d,leverage:null==n?void 0:n.position.leverage.value,basePrice:n?new W.A(n.position.entryPx):null,isLong:Number(null==n?void 0:n.position.szi)>0})]}),Q,(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Stop loss"}),i?(0,r.jsxs)("div",{className:"text-default font-medium flex items-center gap-2",children:[(0,r.jsx)("span",{children:i.triggerCondition}),(0,r.jsx)("button",{type:"button",className:"text-muted hover:text-brand-red  transition-colors",onClick:()=>q(i,"SL"),children:"Cancel"})]}):(0,r.jsx)($.xU,{stopLossPrice:c,setStopLossPrice:m,leverage:null==n?void 0:n.position.leverage.value,basePrice:n?new W.A(n.position.entryPx):null,isLong:Number(null==n?void 0:n.position.szi)>0})]}),J]}),!H&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-3 ",children:[(0,r.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer",children:(0,r.jsxs)("label",{htmlFor:"configure-amount-checkbox",className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)(G.A,{checked:x,onChange:p,id:"configure-amount-checkbox"}),(0,r.jsx)("span",{className:"text-sm font-medium text-muted hover:text-default",children:"Configure Amount"})]})}),x&&(0,r.jsx)(V,{positionSize:n.position.szi,configureAmountPercent:h,setConfigureAmountPercent:f,showConfigureAmount:x,onAmountChange:e=>{N(e)},coinName:n.position.coin}),(0,r.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer",children:(0,r.jsxs)("label",{htmlFor:"limit-price-checkbox",className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)(G.A,{checked:v,onChange:b,id:"limit-price-checkbox"}),(0,r.jsx)("span",{className:"text-sm font-medium text-muted hover:text-default",children:"Limit Price"})]})}),v&&(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{htmlFor:"tp-limit-price",className:"block text-sm text-muted mb-1",children:"TP Limit Price"}),(0,r.jsx)("input",{id:"tp-limit-price",type:"number",value:C||"",onChange:e=>P(e.target.value),className:"w-full px-3 py-2 bg-layer-2 border border-border-default rounded text-default placeholder-muted focus:outline-none focus:ring-2 focus:ring-brand-green focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0.00"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{htmlFor:"sl-limit-price",className:"block text-sm text-muted mb-1",children:"SL Limit Price"}),(0,r.jsx)("input",{id:"sl-limit-price",type:"number",value:S||"",onChange:e=>R(e.target.value),className:"w-full px-3 py-2 bg-layer-2 border border-border-default rounded text-default placeholder-muted focus:outline-none focus:ring-2 focus:ring-brand-green focus:border-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0.00"})]})]})})]}),(0,r.jsx)("button",{type:"button",onClick:Y,className:"w-full bg-brand-green text-white py-3 px-4 rounded font-medium hover:bg-brand-green-faded transition-colors",children:"Confirm"})]}),(0,r.jsxs)("div",{className:"text-xs text-muted space-y-2",children:[(0,r.jsx)("p",{children:"By default take-profit and stop-loss orders apply to the entire position. Take-profit and stop-loss automatically cancel after closing the position. A market order is triggered when the stop loss or take profit price is reached."}),(0,r.jsx)("p",{children:"If the order size is configured above, the TP/SL order will be for that size no matter how the position changes in the future."})]})]});return(0,r.jsx)(B.A,{isOpen:t,onClose:O,className:"max-w-xl w-xl font-sans flex flex-col  gap-6",children:n?ee:(0,r.jsx)(X,{onClose:O})})}function V(e){let{positionSize:t,configureAmountPercent:s,setConfigureAmountPercent:n,showConfigureAmount:a,onAmountChange:l,coinName:i}=e,[o,d]=(0,j.useState)((0,_.G)(s*Number(t)/100).toNumber()),[c,u]=(0,j.useState)(o.toString());(0,j.useEffect)(()=>{let e=(0,_.G)(s*Number(t)/100).toNumber();d(e),u(e.toString()),l(e)},[s,t,l]);let m=e=>{let s=(0,O.A)(e,3);if(null===s||(u(s),""===s||s.endsWith(".")))return;let r=Number(s),a=(0,_.G)(r).toNumber();d(a),l(a),Number(t)>0&&n(a/Number(t)*100)};return a?(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 gap-2",children:[(0,r.jsx)(q.A,{value:s,onChange:n,className:"mb-2",showPercentage:!1}),(0,r.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,r.jsx)("input",{type:"text",id:"configure-amount-input",value:c,onChange:e=>m(e.target.value),onBlur:()=>{let e=Number(c);if(!Number.isNaN(e)&&e>=0){let s=(0,_.G)(e).toNumber();d(s),u(s.toString()),l(s),Number(t)>0&&n(s/Number(t)*100)}else u(o.toString())},className:"w-32 px-2 py-2 pr-6 text-sm border border-border-default rounded focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),(0,r.jsx)("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-muted pointer-events-none",children:(0,k.A)(i)})]})]})}):null}function X(e){let{onClose:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-default",children:"TP/SL for Position"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"text-muted hover:text-default transition-colors","aria-label":"Close modal",children:"✕"})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Coin"}),(0,r.jsx)("div",{className:"w-16 h-4 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Position"}),(0,r.jsx)("div",{className:"w-24 h-4 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Entry Price"}),(0,r.jsx)("div",{className:"w-20 h-4 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted",children:"Mark Price"}),(0,r.jsx)("div",{className:"w-20 h-4 bg-layer-3 rounded animate-pulse"})]})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"w-16 h-3 bg-layer-3 rounded animate-pulse mb-1"}),(0,r.jsx)("div",{className:"w-full h-10 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"w-12 h-3 bg-layer-3 rounded animate-pulse mb-1"}),(0,r.jsx)("div",{className:"w-full h-10 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"w-16",children:[(0,r.jsx)("div",{className:"w-8 h-3 bg-layer-3 rounded animate-pulse mb-1"}),(0,r.jsx)("div",{className:"w-full h-10 bg-layer-3 rounded animate-pulse"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"w-16 h-3 bg-layer-3 rounded animate-pulse mb-1"}),(0,r.jsx)("div",{className:"w-full h-10 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"w-12 h-3 bg-layer-3 rounded animate-pulse mb-1"}),(0,r.jsx)("div",{className:"w-full h-10 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"w-16",children:[(0,r.jsx)("div",{className:"w-8 h-3 bg-layer-3 rounded animate-pulse mb-1"}),(0,r.jsx)("div",{className:"w-full h-10 bg-layer-3 rounded animate-pulse"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-layer-3 rounded animate-pulse"}),(0,r.jsx)("div",{className:"w-32 h-4 bg-layer-3 rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-layer-3 rounded animate-pulse"}),(0,r.jsx)("div",{className:"w-24 h-4 bg-layer-3 rounded animate-pulse"})]})]}),(0,r.jsx)("div",{className:"w-full h-12 bg-layer-3 rounded animate-pulse mb-4"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"w-full h-3 bg-layer-3 rounded animate-pulse"}),(0,r.jsx)("div",{className:"w-3/4 h-3 bg-layer-3 rounded animate-pulse"}),(0,r.jsx)("div",{className:"w-5/6 h-3 bg-layer-3 rounded animate-pulse"}),(0,r.jsx)("div",{className:"w-2/3 h-3 bg-layer-3 rounded animate-pulse"})]})]})}var Z=s(63360),K=s(62711);function J(e){var t;let{onOpenOrdersTab:s,user:n}=e,{assetPositions:a}=(0,l.u)(n),d=!n||n.toLowerCase()===(null==(t=(0,o.A)())?void 0:t.toLowerCase()),c=(0,i.v)();return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("div",{className:"grid grid-cols-[2fr_1fr_2fr_1fr_1fr_1fr_2fr_2fr_2fr_1fr] items-center text-left",children:[(0,r.jsx)(K.A,{className:"pr-6 md:pl-4",children:"MARKET"}),(0,r.jsx)(K.A,{children:"SIDE"}),(0,r.jsx)(K.A,{children:"AMOUNT / SIZE"}),(0,r.jsx)(K.A,{children:"ENTRY"}),(0,r.jsx)(K.A,{children:"MARK"}),(0,r.jsx)(K.A,{children:"PNL"}),(0,r.jsx)(K.A,{children:"LIQUIDATION"}),(0,r.jsx)(K.A,{children:"FUNDING"}),(0,r.jsx)(K.A,{children:"TP / SL"}),(0,r.jsx)(K.A,{className:"self-end"}),a.map((e,t)=>(0,r.jsx)(Q,{position:e,openOrders:c,onOpenOrdersTab:s,isSelf:d},"".concat(e.position.coin,"-").concat(t))),0===a.length&&(0,r.jsxs)("div",{className:"col-span-9 py-6 md:py-12 text-left md:text-center font-sans",children:[(0,r.jsx)("div",{className:"text-lg",children:"Place a trade"}),(0,r.jsx)("div",{className:"text-md text-muted",children:d?"You have no open positions":"User has no open positions"})]})]})})}function Q(e){var t;let{position:s,openOrders:l,onOpenOrdersTab:i,isSelf:o}=e,[f,b]=(0,j.useState)(!1),[g,y]=(0,j.useState)(!1),[A,k]=(0,j.useState)(!1),[C,P]=(0,j.useState)(!1),S=(0,a.A)(s.position.coin),{user:R}=(0,x.Jd)();if(!S)return null;let E=Number.parseFloat(s.position.szi)>0,L=Number.parseFloat(s.position.szi),F=Number.parseFloat(s.position.entryPx||"0"),T=Number.parseFloat(s.position.unrealizedPnl||"0"),D=S.markPx,I=Number.parseFloat(s.position.cumFunding.sinceOpen||"0"),M=l.find(e=>{var t;return e.coin===(null==s?void 0:s.position.coin)&&(t=e).isPositionTpsl&&t.orderType.startsWith("Take Profit")}),O=l.find(e=>{var t;return e.coin===(null==s?void 0:s.position.coin)&&(t=e).isPositionTpsl&&t.orderType.startsWith("Stop")}),_=l.some(e=>e.coin===(null==s?void 0:s.position.coin)&&(e.orderType.startsWith("Take")||e.orderType.startsWith("Stop")));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.A,{className:"pr-6 md:pl-4",isRowHovered:f,setIsRowHovered:b,children:(0,r.jsxs)(v(),{href:"/trade/".concat((0,c.A)(s.position.coin)),className:"flex items-center justify-start gap-2",children:[(0,r.jsx)(N,{coin:s.position.coin}),(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-[2px]",children:[(0,r.jsx)(w.t,{coin:s.position.coin}),(0,r.jsxs)("div",{className:"text-xs uppercase text-muted",children:[s.position.leverage.value,"x"]})]})]})}),(0,r.jsx)(Z.A,{className:"text-sm uppercase ".concat(E?"text-brand-green":"text-brand-red"),isRowHovered:f,setIsRowHovered:b,children:E?"LONG":"SHORT"}),(0,r.jsx)(Z.A,{className:"text-sm",isRowHovered:f,setIsRowHovered:b,children:(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-[2px]",children:[(0,u.A)(Number.parseFloat(s.position.positionValue)),(0,r.jsx)("span",{className:"text-xs text-muted",children:(0,m.A)(L,{maxDecimalPlaces:3})})]})}),(0,r.jsx)(Z.A,{className:"text-sm",isRowHovered:f,setIsRowHovered:b,children:(0,u.A)(F)}),(0,r.jsx)(Z.A,{className:"text-sm",isRowHovered:f,setIsRowHovered:b,children:(0,u.A)(Number.parseFloat(D))}),(0,r.jsx)(Z.A,{className:"text-sm ".concat(T>=0?"text-brand-green":"text-brand-red"),isRowHovered:f,setIsRowHovered:b,children:(0,u.A)(T)}),(0,r.jsx)(Z.A,{className:"text-sm",isRowHovered:f,setIsRowHovered:b,children:s.position.liquidationPx?(0,u.A)(Number.parseFloat(s.position.liquidationPx)):(0,r.jsx)("span",{className:"text-muted",children:"-"})}),(0,r.jsxs)(Z.A,{className:(0,d.A)("text-sm",I>0?"text-brand-red":I<0?"text-brand-green":""),isRowHovered:f,setIsRowHovered:b,children:[I>0?"-":I<0?"+":"","$",Math.abs(I).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})]}),o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Z.A,{className:"text-sm text-muted flex items-center gap-2",isRowHovered:f,setIsRowHovered:b,children:[O||M?(0,r.jsxs)("span",{children:[(null==M?void 0:M.limitPx)?(0,m.A)(Number.parseFloat(M.limitPx)):"-","/",(null==O?void 0:O.limitPx)?(0,m.A)(Number.parseFloat(O.limitPx)):"-"]}):_?(0,r.jsx)("button",{type:"button",onClick:i,className:"text-muted hover:text-brand-green transition-colors text-sm font-medium",children:"View orders"}):"-/-",(0,r.jsx)("button",{type:"button",onClick:()=>k(!0),className:"text-muted hover:text-brand-green transition-colors text-sm font-medium",children:(0,r.jsx)(p.A,{className:"w-4 h-4"})})]}),(0,r.jsx)(Y,{isOpen:A,onClose:()=>k(!1),position:s,markPrice:D,openTpOrder:M||null,openSlOrder:O||null})]}):(0,r.jsx)(Z.A,{isRowHovered:f,setIsRowHovered:b,children:(0,r.jsx)("span",{})}),o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Z.A,{isRowHovered:f,setIsRowHovered:b,className:"flex items-center gap-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>y(!0),className:"text-muted hover:text-brand-red transition-colors text-sm font-medium",children:"Close"}),(null==R||null==(t=R.customMetadata)?void 0:t.isAdmin)&&(0,r.jsx)("button",{type:"button",onClick:()=>P(!0),className:"text-muted hover:text-brand-green transition-colors text-sm font-medium",children:(0,r.jsx)(h.A,{className:"w-4 h-4"})})]}),(0,r.jsx)(n.A,{isOpen:g,onClose:()=>y(!1),position:s}),(0,r.jsx)(H,{isOpen:C,onClose:()=>P(!1),position:s})]}):(0,r.jsx)(Z.A,{isRowHovered:f,setIsRowHovered:b,children:(0,r.jsx)("span",{})})]})}},85194:(e,t,s)=>{s.d(t,{k:()=>n});var r=s(89145);function n(e){let t=new r.A(e).toDecimalPlaces(3,r.A.ROUND_DOWN);return t.isInteger()?t:t.toSignificantDigits(5)}},88032:(e,t,s)=>{s.d(t,{A:()=>r});function r(e){let{maxDecimalPlaces:t=2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}))}},88343:(e,t,s)=>{s.d(t,{S:()=>a});var r=s(61705),n=s(14482);function a(){let e=(0,n.n)();return(0,r.S)({dex:e})}},92551:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(89145),n=s(56390);function a(e){let t=(0,n.f)(e),s=(null==t?void 0:t.levels[0][0])?new r.A(t.levels[0][0].px):null,a=(null==t?void 0:t.levels[1][0])?new r.A(t.levels[1][0].px):null,l=s&&a?s.plus(a).div(2):null;return{bestBid:s,bestAsk:a,midPrice:l}}},92610:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(54568),n=s(24990),a=s(15870),l=s(27911);function i(e){let{currentPage:t,totalPages:s,onPageChange:i,className:o}=e;if(s<=1)return null;let d=(()=>{let e=[],r=[];for(let r=Math.max(2,t-2);r<=Math.min(s-1,t+2);r++)e.push(r);return t-2>2?r.push(1,"..."):r.push(1),r.push(...e),t+2<s-1?r.push("...",s):r.push(s),r})();return(0,r.jsxs)("div",{className:(0,n.A)("flex items-center justify-center gap-1",o),children:[(0,r.jsx)("button",{type:"button",onClick:()=>i(t-1),disabled:t<=1,className:(0,n.A)("flex items-center justify-center w-8 h-8 rounded transition-colors",t<=1?"text-muted cursor-not-allowed":"text-default hover:bg-layer-3 cursor-pointer"),children:(0,r.jsx)(a.A,{className:"h-4 w-4"})}),d.map((e,s)=>"..."===e?(0,r.jsx)("span",{className:"flex items-center justify-center w-8 h-8 text-muted",children:"..."},"ellipsis-".concat(s)):(0,r.jsx)("button",{type:"button",onClick:()=>i(e),className:(0,n.A)("flex items-center justify-center w-8 h-8 rounded text-sm transition-colors",t===e?"bg-brand-green text-white":"text-default hover:bg-layer-3 cursor-pointer"),children:e},e)),(0,r.jsx)("button",{type:"button",onClick:()=>i(t+1),disabled:t>=s,className:(0,n.A)("flex items-center justify-center w-8 h-8 rounded transition-colors",t>=s?"text-muted cursor-not-allowed":"text-default hover:bg-layer-3 cursor-pointer"),children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})]})}},93348:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(54568),n=s(24990),a=s(59588);function l(e){let{className:t,timestamp:s}=e,{timezone:l}=(0,a.U)();return(0,r.jsx)("span",{className:(0,n.A)("text-sm text-muted",t),children:new Date(s).toLocaleDateString("en-US",{timeZone:"utc"===l?"UTC":void 0,hour:"2-digit",minute:"2-digit",hour12:!1})})}},95260:(e,t,s)=>{s.d(t,{A:()=>y});var r=s(54568),n=s(90030),a=s(67072),l=s(24990),i=s(30124),o=s(67991),d=s(79458),c=s(88032),u=s(59884),m=s(15328),x=s(59588),p=s(89145),h=s(61773),f=s(27261),v=s.n(f),j=s(7620),b=s(92610),g=s(63360),N=s(62711),w=s(93348);function y(e){var t;let{className:s,user:i}=e,o=(0,a.z)(i),{timezone:d,setTimezone:c}=(0,x.U)(),u=!i||i.toLowerCase()===(null==(t=(0,n.A)())?void 0:t.toLowerCase()),[m,p]=(0,j.useState)(1),h=o.length,f=Math.ceil(h/50),v=(0,j.useMemo)(()=>{let e=(m-1)*50;return o.slice(e,e+50)},[o,m]);return(0,r.jsxs)("div",{className:(0,l.A)("w-full",s),children:[(0,r.jsxs)("div",{className:"grid grid-cols-[3fr_1fr_2fr_2fr_2fr_2fr] items-center text-left",children:[(0,r.jsx)(N.A,{className:"pr-6 md:pl-4",children:"COMPANY"}),(0,r.jsx)(N.A,{children:"SIDE"}),(0,r.jsx)(N.A,{children:"SIZE"}),(0,r.jsx)(N.A,{children:"PAYMENT"}),(0,r.jsx)(N.A,{children:"RATE"}),(0,r.jsx)(N.A,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"TIME"}),(0,r.jsx)("button",{type:"button",className:"bg-layer-3 px-2 py-1 rounded text-xs text-muted cursor-pointer uppercase",onClick:()=>c("utc"===d?"local":"utc"),children:"utc"===d?"UTC":"Local"})]})}),v.map((e,t)=>(0,r.jsx)(A,{funding:e},t)),0===o.length&&(0,r.jsxs)("div",{className:"col-span-6 py-6 md:py-12 text-left md:text-center font-sans",children:[(0,r.jsx)("div",{className:"text-lg",children:"Place a trade"}),(0,r.jsx)("div",{className:"text-md text-muted",children:u?"You have no funding distribution history":"User has no funding distribution history"})]})]}),f>1&&(0,r.jsxs)("div",{className:"flex items-center justify-end px-4 py-3 border-t border-layer-3",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-muted",children:[Math.min((m-1)*50+1,h),"-",Math.min(50*m,h)," of ",h]}),(0,r.jsx)(b.A,{currentPage:m,totalPages:f,onPageChange:e=>{p(e)}})]})]})}function A(e){let{funding:t}=e,[s,n]=(0,j.useState)(!1),a=t.coin,m=Number.parseFloat(t.szi),x=Number.parseFloat(t.usdc);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"pr-6 md:pl-4",isRowHovered:s,setIsRowHovered:n,children:(0,r.jsxs)(v(),{href:"/trade/".concat((0,o.A)(a)),className:"flex items-center justify-start gap-2",children:[(0,r.jsx)(k,{coin:a}),(0,r.jsx)(C,{coin:a})]})}),(0,r.jsx)(g.A,{isRowHovered:s,setIsRowHovered:n,children:(0,r.jsx)("span",{className:"text-sm uppercase ".concat(m>0?"text-brand-green":"text-brand-red"),children:m>0?"Long":"Short"})}),(0,r.jsxs)(g.A,{className:"flex items-center gap-1",isRowHovered:s,setIsRowHovered:n,children:[(0,r.jsx)("span",{className:"text-sm",children:(0,c.A)(m,{maxDecimalPlaces:4})}),(0,r.jsx)("span",{className:"text-sm text-muted",children:(0,i.A)(a)})]}),(0,r.jsx)(g.A,{isRowHovered:s,setIsRowHovered:n,children:(0,r.jsx)("span",{className:(0,l.A)("text-sm",x>0?"text-brand-green":"text-brand-red"),children:(0,d.A)(x,{showPlusSign:!0,maxDecimalPlaces:6})})}),(0,r.jsx)(g.A,{isRowHovered:s,setIsRowHovered:n,children:(0,r.jsx)("span",{className:"text-sm",children:(0,u.A)(new p.A(t.fundingRate).toNumber(),{maxDecimalPlaces:6})})}),(0,r.jsx)(g.A,{isRowHovered:s,setIsRowHovered:n,children:(0,r.jsx)(w.A,{timestamp:t.time})})]})}function k(e){let{coin:t}=e,s=(0,m.$g)(t);return s?(0,r.jsx)("div",{className:"w-6 h-6 rounded-full overflow-hidden",children:(0,r.jsx)(h.default,{src:s.logo,alt:s.name,width:32,height:32})}):(0,r.jsx)("div",{className:"w-6 h-6 bg-layer-3 rounded-full animate-pulse"})}function C(e){let{coin:t}=e,s=(0,m.$g)(t);return s?(0,r.jsx)("span",{className:"font-sans text-md",children:s.name}):(0,r.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-20"})}}}]);