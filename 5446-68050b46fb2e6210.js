(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5446],{5598:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>i,EE:()=>m,S9:()=>c});var r=n(40459);let s={dex:"venone",perpsDexIndex:16,isTestnet:!0,scaleFactor:1e9,szDecimal:3,maxLeverage:10},o={dex:"vntls",perpsDexIndex:18,isTestnet:!0,scaleFactor:1e9,szDecimal:3,maxLeverage:10},a={dex:"",perpsDexIndex:-1,isTestnet:!1,scaleFactor:1,szDecimal:3,maxLeverage:10},i="venone"===r.env.DEX?s:o;console.log("Using DEX: ",i.dex);let l=[{name:"venone:vANDRL",index:3}].reduce((e,t)=>(e[t.name]=t.index,e),{}),d=[{name:"vntls:vOAI",index:0},{name:"vntls:vSPACEX",index:1},{name:"vntls:vCURSOR",index:2},{name:"vntls:vSTRIPE",index:3},{name:"vntls:vANDRL",index:4},{name:"vntls:vFIG",index:5},{name:"vntls:vANTHRPC",index:6},{name:"vntls:vCOLOSSAL",index:7},{name:"vntls:vKRAKEN",index:8},{name:"vntls:vXAI",index:9},{name:"vntls:vCLUELY",index:10},{name:"vntls:vNLINK",index:11},{name:"vntls:vFIGAI",index:12},{name:"vntls:vCHAIN",index:13},{name:"vntls:vDBRICKS",index:14},{name:"vntls:vPERPLXT",index:15},{name:"vntls:vDISCORD",index:16},{name:"vntls:vPLAID",index:17},{name:"vntls:vRAMP",index:18},{name:"vntls:vBENCHLNG",index:19},{name:"vntls:vPHANT",index:20}].reduce((e,t)=>(e[t.name]=t.index,e),{}),u=[{name:"SOL",index:0},{name:"APT",index:1},{name:"BTC",index:3},{name:"ETH",index:4}].reduce((e,t)=>(e[t.name]=t.index,e),{});function c(e){if(e.startsWith("venone:")){let t=l[e];if(void 0===t)throw Error("Coin ".concat(e," not found"));return t}if(e.startsWith("vntls:")){let t=d[e];if(void 0===t)throw Error("Coin ".concat(e," not found"));return t}if(0>e.indexOf(":")){let t=u[e];if(void 0===t)throw Error("Coin ".concat(e," not found"));return t}throw Error("Coin ".concat(e," not found"))}function m(e){let{coin:t,dex:n}=e,r=function(e){if("venone"===e)return s;if("vntls"===e)return o;if(""===e)return a;throw Error("Invalid DEX ".concat(e))}(n).perpsDexIndex,i=c(t);return 0===r?i:1e5+1e4*r+i}},7144:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(44903),s=n(21593);function o(){let{user:e}=(0,r.Jd)(),{wallets:t}=(0,s.w)(),n=null==e?void 0:e.wallet;if(!n)return null;let o=t.find(e=>e.address===n.address);return o||null}},8379:()=>{},14482:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(5598),s=n(62942);function o(){let e=(0,s.useSearchParams)();return null!==e.get("dex")?e.get("dex"):r.Cn.dex}},15328:(e,t,n)=>{"use strict";n.d(t,{$g:()=>i,Ay:()=>a,Rr:()=>l});var r=n(54568),s=n(7620);let o=(0,s.createContext)({companies:[]});function a(e){let{companies:t,children:n}=e;return(0,r.jsx)(o.Provider,{value:{companies:t},children:n})}function i(e){let t=(0,s.useContext)(o);if(void 0===t)throw Error("useCompany must be used within a CompaniesProvider");return t.companies.find(t=>t.hyperliquidCoin===e)}function l(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useCompanies must be used within a CompaniesProvider");return e.companies}},24990:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(32987),s=n(60607);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.QP)((0,r.$)(t))}},30124:(e,t,n)=>{"use strict";function r(e){let t=e.split(":");if(0===t.length||t.length>2)throw Error("Invalid coin format");return 1===t.length?t[0]:t[1]}n.d(t,{A:()=>r})},31602:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var r=n(7620),s=n(65460);function o(){let e=(0,r.useContext)(s.b);if(void 0===e)throw Error("useHyperliquidWebSocket must be used within a HyperliquidWebSocketProvider");return e}},46240:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var r=n(36010),s=n(14482),o=n(30124),a=n(79307),i=n(7620),l=n(51874),d=n(90030);function u(e){var t;let n=(0,s.n)(),u=(0,d.A)(),c=e||u,m=(0,i.useRef)([]),{data:f}=r.K.users.getUserFills.useQuery({queryKey:["userFills",c],queryData:{params:{user:c||""}},enabled:!!c,staleTime:3e4}),v=null!=(t=null==f?void 0:f.body)?t:[],x=(0,i.useMemo)(()=>({type:"userFills",dex:n,user:c}),[n,c]),g=(0,i.useCallback)(e=>{var t;if((null==(t=e.user)?void 0:t.toLowerCase())===(null==c?void 0:c.toLowerCase())){let t=e.fills.filter(e=>e.coin.startsWith(n));if(e.isSnapshot)m.current=t;else{let e=new Map(m.current.map(e=>[e.tid,e]));for(let n of t)n.liquidation&&l.oR.info("".concat(n.dir," ").concat((0,o.A)(n.coin)," position")),e.set(n.tid,n);m.current=Array.from(e.values())}}return m.current.sort((e,t)=>t.time-e.time)},[n,c]),p=(0,a.k)({payload:x,extractData:g,initialData:[],enabled:!!c});return(0,i.useMemo)(()=>{let e=p||[],t=new Map;for(let n of e)t.set(n.tid,n);for(let e of v){let n=Number(e.tid);t.has(n)||t.set(n,{coin:e.coin,px:e.price,sz:e.size,side:e.side,time:e.filledAt.getTime(),startPosition:e.startPosition,dir:e.dir,closedPnl:e.closedPnl,hash:e.hash,oid:Number(e.oid),crossed:e.crossed,fee:e.fee,tid:Number(e.tid),feeToken:e.feeToken,liquidation:e.liquidatedUser?{liquidatedUser:e.liquidatedUser,markPx:e.liquidatedMarkPx||"0",method:e.liquidatedMethod||"market"}:void 0})}return Array.from(t.values()).sort((e,t)=>t.time-e.time)},[p,v])}},46613:(e,t,n)=>{"use strict";function r(e){return e.length<=10?e:"".concat(e.slice(0,6),"...").concat(e.slice(-4))}n.d(t,{A:()=>r})},46786:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,X:()=>u});var r=n(54568),s=n(80294),o=n(44903),a=n(7620),i=n(65364);let l=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[n,d]=(0,a.useState)(!1),{refreshUser:u,user:c}=(0,o.Jd)(),m=(0,i.b)(),f=(0,a.useCallback)(async()=>{if(!c)return d(!1),!1;console.log("[refreshAccountExists] Refreshing account exists...");let e=await u();if(console.log("[refreshAccountExists] refreshedUser: ",e),!e)return d(!1),!1;let t=e.wallet;if(!t)return console.log("[refreshAccountExists] No wallet"),d(!1),!1;let n=new s.G5({isTestnet:m,fetchOptions:{keepalive:!1}}),r=new s.Cf({transport:n});console.log("[refreshAccountExists] Checking if Hyperliquid account exists: ",t.address);let o={user:t.address,source:"0x0000000000000000000000000000000000000000"},a=await r.preTransferCheck(o);return console.log("[refreshAccountExists] Pre transfer check: ",a.userExists,a),d(a.userExists),a.userExists},[u,m,c]);return(0,a.useEffect)(()=>{f()},[f]),(0,r.jsx)(l.Provider,{value:{accountExists:n,refreshAccountExists:f},children:t})}function u(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAccountExists must be used within a HyperliquidAccountExistsProvider");return e}},47236:(e,t,n)=>{"use strict";n.d(t,{Y:()=>C,q:()=>E});var r=n(54568),s=n(90806),o=n(46613),a=n(44903),i=n(39690),l=n(75344),d=n(14218),u=n(7620);function c(e){var t,n;let{isOpen:c,onClose:m,onApprove:f,error:v}=e,{user:x}=(0,a.Jd)(),[g,p]=(0,u.useState)("none");async function h(){p("pending"),await f()?(p("approved"),setTimeout(()=>{m()},1500)):p("none")}return(0,u.useEffect)(()=>{c&&p("none")},[c]),(0,r.jsx)(s.A,{isOpen:c,onClose:m,zIndex:11e3,children:v?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,r.jsx)(i.A,{className:"w-12 h-12 text-brand-red"}),(0,r.jsx)("div",{className:"text-xl font-medium font-sans",children:"Error"}),(0,r.jsx)("p",{className:"text-md font-sans text-center text-muted",children:v})]}):"approved"===g?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,r.jsx)(l.A,{className:"w-12 h-12 text-brand-green"}),(0,r.jsx)("div",{className:"text-xl font-medium font-sans",children:"Success!"}),(0,r.jsx)("p",{className:"text-md font-sans text-center text-muted",children:"Connection established."})]}):"pending"===g?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,r.jsx)(d.A,{className:"w-12 h-12 text-muted animate-spin"}),(0,r.jsx)("div",{className:"text-xl font-medium font-sans",children:"In progress"}),(0,r.jsx)("p",{className:"text-md font-sans text-center text-muted",children:"Establishing connection..."})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,r.jsx)("div",{className:"text-xl font-medium font-sans",children:"Establish connection"}),(0,r.jsx)("p",{className:"text-md font-sans text-center text-muted",children:"This signature is gas-free to send. It opens a decentralized channel for gas-free and instantaneous trading."}),(0,r.jsxs)("div",{className:"flex flex-col gap-1 p-4 bg-layer-2 border border-border-default rounded w-full",children:[(0,r.jsx)("span",{className:"font-sans text-xs uppercase text-muted",children:"Wallet"}),(0,r.jsx)("span",{className:"hidden md:block font-mono text-sm",children:null==x||null==(t=x.wallet)?void 0:t.address}),(0,r.jsx)("span",{className:"md:hidden font-mono text-sm",children:(0,o.A)((null==x||null==(n=x.wallet)?void 0:n.address)||"")})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"button",className:"px-4 py-2 rounded font-sans border border-border-default text-muted cursor-pointer hover:bg-layer-2",onClick:m,children:"Deny"}),(0,r.jsx)("button",{type:"button",className:"px-4 py-2 rounded font-sans bg-brand-green text-white cursor-pointer",onClick:h,children:"Approve"})]})]})})}var m=n(80294),f=n(11523),v=n(46786),x=n(65364),g=n(7144),p=n(79307),h=n(90030),b=n(34114),w=n(75006);let y=w.z.object({userAddress:w.z.string(),privateKey:w.z.string()}),A=(0,u.createContext)(void 0);function E(){let e=(0,u.useContext)(A);if(void 0===e)throw Error("useAgentWallet must be used within an AgentWalletProvider");return e}function C(e){var t;let{children:n}=e,{user:s}=(0,a.Jd)(),o=function(){let e=(0,h.A)(),t=(0,u.useMemo)(()=>({type:"webData2",user:e}),[e]),n=(0,u.useCallback)(e=>e,[]);return(0,p.k)({payload:t,extractData:n,initialData:null,enabled:!!e})}(),i=function(){let e=(0,g.A)(),{accountExists:t,refreshAccountExists:n}=(0,v.X)(),r=(0,x.b)();return async s=>{if(!e)throw Error("Wallet not connected");if(!t&&!await n())throw Error("Hyperliquid account does not exist for this wallet.");let o=new m.G5({isTestnet:r,fetchOptions:{keepalive:!1}}),a=await e.getEthereumProvider(),i=new f.k(a),l=await i.getSigner(),d=new m.PM({transport:o,isTestnet:r,wallet:l});console.log("[useApproveAgent] approving agent. agent = ".concat(s,". user = ").concat(e.address));let u=await d.approveAgent({agentAddress:s});return console.log("[useApproveAgent] approved agent. agent = ".concat(s,". user = ").concat(e.address)),u}}(),[l,d]=(0,u.useState)(null),[w,E]=(0,u.useState)(!1),[C,S]=(0,u.useState)(null),[k,N]=(0,u.useState)(null),P=null==s||null==(t=s.wallet)?void 0:t.address,j=null==o?void 0:o.agentAddress,L=null==o?void 0:o.agentValidUntil;function D(){if(!P)throw Error("No wallet address found");return"".concat("ventuals:agent","_").concat(P.toLowerCase())}async function T(){if(console.log("[AgentWalletProvider] Approving new agent..."),!P)throw Error("No wallet address found");let e=b.u.createRandom().privateKey,t=new b.u(e);return console.log("[AgentWalletProvider] Calling HL to approve new agent with address:",t.address),await i(t.address),console.log("[AgentWalletProvider] Approved new agent with address:",t.address),sessionStorage.setItem(D(),JSON.stringify({userAddress:P.toLowerCase(),privateKey:t.privateKey})),console.log("[AgentWalletProvider] Set agent in sessionStorage:",t.address),d(t),t}async function M(){return new Promise(e=>{N(null),S(()=>e),E(!0)})}(0,u.useEffect)(()=>{if(!P||!j||!L||Date.now()>L){console.log("[AgentWalletProvider] Agent not found or expired"),d(null);return}try{let e=sessionStorage.getItem(D());if(e){let{privateKey:t}=y.parse(JSON.parse(e)),n=new b.u(t);if(console.log("[AgentWalletProvider] Found stored agent:",n.address),n.address.toLowerCase()===j.toLowerCase())return void d(n);console.log("[AgentWalletProvider] Agent does not match stored agent. Agent address in sessionStorage: ".concat(n.address,", Agent address on HL: ").concat(j)),console.log("[AgentWalletProvider] Clearing stored agent: ".concat(j)),sessionStorage.removeItem(D())}d(null)}catch(e){throw console.error("Error reading from sessionStorage:",e),e}},[P,j,L]);let I=async()=>{try{let e=await T();return e||E(!1),C&&(C(e),S(null)),!0}catch(e){return e&&"object"==typeof e&&"shortMessage"in e?"ACTION_REJECTED"===e.code?N("Approval was rejected by user."):"UNKNOWN_ERROR"===e.code&&e.error?N("Approval failed: ".concat(e.error.message)):N("Approval failed: ".concat(e.shortMessage)):N("Error approving agent. Please try again."),console.error("Error approving agent:",e),C&&(C(null),S(null)),!1}};return(0,r.jsxs)(A.Provider,{value:{agentWallet:l,promptApproveNewAgent:M},children:[(0,r.jsx)(c,{isOpen:w,onClose:()=>{E(!1),N(null),C&&(C(null),S(null))},onApprove:I,error:k}),n]})}},59588:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,U:()=>a});var r=n(54568),s=n(7620);let o=(0,s.createContext)(void 0);function a(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useTimezone must be used within a TimezoneProvider");return e}function i(e){let{children:t}=e,[n,a]=(0,s.useState)("local");return(0,r.jsx)(o.Provider,{value:{timezone:n,setTimezone:a},children:t})}},59884:(e,t,n)=>{"use strict";function r(e){let{maxDecimalPlaces:t=2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(e.toLocaleString(void 0,{useGrouping:!0,minimumFractionDigits:t,maximumFractionDigits:t}),"%")}n.d(t,{A:()=>r})},65364:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(5598),s=n(62942);function o(){return"false"!==(0,s.useSearchParams)().get("isTestnet")&&r.Cn.isTestnet}},65460:(e,t,n)=>{"use strict";n.d(t,{b:()=>a,r:()=>i});var r=n(54568),s=n(80294),o=n(7620);let a=(0,o.createContext)(void 0),i=e=>{let{children:t,isTestnet:n}=e,[i,l]=(0,o.useState)(null),[d,u]=(0,o.useState)("connecting");return(0,o.useEffect)(()=>{u("connecting"),console.log("Creating new WS transport, isTestnet:",n);let e=new s.TJ({url:n?"wss://api.hyperliquid-testnet.xyz/ws":"wss://api.hyperliquid.xyz/ws"});return l(e),()=>{console.log("Closing WS transport"),e.close()}},[n]),(0,o.useEffect)(()=>{i&&(i.socket.addEventListener("open",()=>{u("connected")}),i.socket.addEventListener("close",()=>{u("disconnected")}),i.socket.addEventListener("error",()=>{u("error")}))},[i]),(0,r.jsx)(a.Provider,{value:{transport:i,connectionStatus:d},children:t})}},67072:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(36010),s=n(14482),o=n(79307),a=n(7620),i=n(90030);function l(e){var t;let n=(0,s.n)(),l=(0,i.A)(),d=e||l,u=(0,a.useRef)([]),{data:c}=r.K.users.getUserFundings.useQuery({queryKey:["userFundings",d],queryData:{params:{user:d||""}},enabled:!!d,staleTime:3e4}),m=null!=(t=null==c?void 0:c.body)?t:[],f=(0,a.useMemo)(()=>({type:"userFundings",user:d}),[d]),v=(0,a.useCallback)(e=>{var t;if((null==(t=e.user)?void 0:t.toLowerCase())===(null==d?void 0:d.toLowerCase())){let t=e.fundings.filter(e=>e.coin.startsWith(n));if(e.isSnapshot)u.current=t;else{let e=new Map(u.current.map(e=>["".concat(e.time,"-").concat(e.coin),e]));for(let n of t)e.set("".concat(n.time,"-").concat(n.coin),n);u.current=Array.from(e.values())}}return u.current.sort((e,t)=>t.time-e.time)},[n,d]),x=(0,o.k)({payload:f,extractData:v,initialData:[],enabled:!!d});return(0,a.useMemo)(()=>{let e=x||[],t=new Map;for(let n of e)t.set("".concat(n.time,"-").concat(n.coin),n);for(let e of m){let n="".concat(e.fundedAt.getTime(),"-").concat(e.coin);t.has(n)||t.set(n,{coin:e.coin,usdc:e.usdc,szi:e.signedSize,fundingRate:e.fundingRate,nSamples:null,time:e.fundedAt.getTime()})}return Array.from(t.values()).sort((e,t)=>t.time-e.time)},[x,m])}},68007:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(54568),s=n(7620);function o(e){let{isOpen:t,onClose:n,content:o,header:a,className:i=""}=e,[l,d]=(0,s.useState)(!1),[u,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(t){c(!0);let e=setTimeout(()=>{d(!0)},50);return()=>clearTimeout(e)}d(!1);let e=setTimeout(()=>{c(!1)},300);return()=>clearTimeout(e)},[t]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&n()};if(t)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,n]);let m=()=>{n()};return u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-layer-2/50 backdrop-blur-sm z-40 transition-opacity duration-300 ".concat(l?"opacity-100":"opacity-0"),onClick:m,onKeyDown:e=>{"Escape"===e.key&&m()},role:"button",tabIndex:0}),(0,r.jsxs)("div",{className:"fixed right-0 top-0 h-full w-full max-w-[600px] bg-layer-1 border-l border-border-default z-50 flex flex-col transition-transform duration-300 ease-out ".concat(l?"translate-x-0":"translate-x-full"," ").concat(i),children:[(0,r.jsx)("div",{className:"px-4 py-2 border-b h-18 border-dotted border-border-default flex items-center justify-between",children:a}),(0,r.jsx)("div",{className:"px-4 py-2 flex-1 overflow-y-auto",children:o})]})]}):null}},69471:()=>{},72673:(e,t,n)=>{"use strict";function r(e){return 0===e?"text-muted":e>0?"text-brand-green":"text-brand-red"}n.d(t,{v:()=>r})},74472:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,D:()=>a});var r=n(54568),s=n(7620);let o=(0,s.createContext)(void 0),a=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useDarkMode must be used within a DarkModeProvider");return e},i=e=>{let{children:t}=e,[n,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("darkMode");null!==e?a("true"===e):a(window.matchMedia("(prefers-color-scheme: dark)").matches),l(!0)},[]),(0,s.useEffect)(()=>{i&&(n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",n.toString()))},[n,i]),(0,r.jsx)(o.Provider,{value:{isDarkMode:n,toggleDarkMode:()=>{console.log("Toggling dark mode from:",n,"to:",!n),a(e=>!e)}},children:t})}},79307:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(77251),s=n.n(r),o=n(7620),a=n(31602);function i(e){let{payload:t,extractData:n,initialData:r,enabled:i}=e,d=s()(t);l.has(d)||l.set(d,{data:r,listeners:new Set,subscription:null,hasSubscribed:!1,addSubscriber(e,t,n,r){this.listeners.add(r),this.hasSubscribed||(this.hasSubscribed=!0,this.subscribe(e,t,n)),r(this.data)},async removeSubscriber(e){if(this.listeners.delete(e),0===this.listeners.size){var t;await (null==(t=this.subscription)?void 0:t.unsubscribe()),this.hasSubscribed=!1}},async subscribe(e,t,n){try{console.log("About to subscribe to ",t.type,t),setTimeout(()=>{this.subscription||console.warn("Websocket subscription promise not resolved after 1 second - Check your subscription payload to make sure it doesn't contain an unknown field",t.type,t)},1e3),this.subscription=await e.subscribe(t.type,t,e=>{this.data=n(e.detail),null!==this.data&&this.notifyListeners()}),console.log("Subscription connected to ".concat(t.type,"."))}catch(e){console.error("Failed to subscribe to ".concat(t.type,":"),e)}},notifyListeners(){for(let e of this.listeners)e(this.data)}});let u=l.get(d),[c,m]=(0,o.useState)(r),{transport:f}=(0,a.L)();return(0,o.useEffect)(()=>{if(!f||!1===i)return;let e=e=>{m(e)};return u.addSubscriber(f,t,n,e),()=>{u.removeSubscriber(e)}},[f,u,i,t,n]),c}let l=new Map},79458:(e,t,n)=>{"use strict";function r(e){let{showPlusSign:t=!1,maxDecimalPlaces:n=2}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Math.abs(e),s=n;return e<10?s=4:e<100&&(s=3),"".concat(e<0?"-":t?"+":"","$").concat(r.toLocaleString(void 0,{minimumFractionDigits:s,maximumFractionDigits:s}))}n.d(t,{A:()=>r})},80647:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r=n(14482),s=n(79307),o=n(7620),a=n(90030);let i={assetPositions:[],marginSummary:{accountValue:"0",totalNtlPos:"0",totalRawUsd:"0",totalMarginUsed:"0"},crossMarginSummary:{accountValue:"0",totalNtlPos:"0",totalRawUsd:"0",totalMarginUsed:"0"},crossMaintenanceMarginUsed:"0",withdrawable:"0",time:0};function l(e){let t=(0,r.n)(),n=(0,a.A)(),l=e||n,[d,u]=(0,o.useState)(i),c=(0,o.useMemo)(()=>({type:"clearinghouseState",dex:t,user:l}),[t,l]),m=(0,o.useCallback)(e=>{var t;return(null==(t=e.user)?void 0:t.toLowerCase())!==(null==l?void 0:l.toLowerCase())?null:(u(e.clearinghouseState),e.clearinghouseState)},[l]),f=(0,s.k)({payload:c,extractData:m,initialData:i,enabled:!!l});return null===f?d:f}},88246:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(54568),s=n(15328);function o(e){let{coin:t}=e,n=(0,s.$g)(t);return n?(0,r.jsx)("span",{className:"font-sans text-md",children:n.name}):(0,r.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-20"})}},90030:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(44903),s=n(62942);function o(){var e,t;let{user:n}=(0,r.Jd)(),o=(0,s.useSearchParams)();return(null==(e=o.get("user"))?void 0:e.length)?o.get("user"):null==n||null==(t=n.wallet)?void 0:t.address}},90806:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(54568),s=n(7620);let o=(0,s.memo)(e=>{let{isOpen:t,onClose:n,children:o,className:a="",zIndex:i=9999}=e,l=(0,s.useRef)(null),d=(0,s.useRef)(!1);return((0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n()};return t&&!d.current?(null===l.current&&(l.current=document.body.style.overflow),document.addEventListener("keydown",e),document.body.style.overflow="hidden",d.current=!0):!t&&d.current&&(document.removeEventListener("keydown",e),document.body.style.overflow=l.current||"",d.current=!1,l.current=null),()=>{d.current&&(document.removeEventListener("keydown",e),document.body.style.overflow=l.current||"",d.current=!1,l.current=null)}},[t,n]),t)?(0,r.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center",style:{zIndex:i},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-layer-2/50 backdrop-blur-sm",onClick:n,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&n()},role:"button",tabIndex:0}),(0,r.jsx)("div",{className:"relative bg-layer-1 rounded shadow-2xl max-w-lg w-full mx-3 sm:mx-4 max-h-[90vh] overflow-y-auto p-6 sm:p-8 ".concat(a),children:o})]}):null})}}]);