(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5603],{15142:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var l=s(54568),r=s(91577),a=s(75174),n=s(31602),i=s(79090),d=s(27261),o=s.n(d);function c(){let{connectionStatus:e}=(0,n.L)();return(0,l.jsxs)("div",{className:"hidden sm:flex fixed bottom-0 left-0 right-0 z-100 bg-layer-1 items-center justify-between text-xs px-4 py-3 h-[40px] border-t border-border-default",children:[(0,l.jsx)("div",{className:"flex items-center gap-2",children:(()=>{switch(e){case"connecting":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,l.jsx)("span",{children:"CONNECTING"})]});case"connected":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"w-2 h-2 bg-brand-green rounded-full"}),(0,l.jsx)("span",{children:"ONLINE"})]});case"disconnected":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"w-2 h-2 bg-brand-red rounded-full"}),(0,l.jsx)("span",{children:"OFFLINE"})]});case"error":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"w-2 h-2 bg-brand-red rounded-full"}),(0,l.jsx)("span",{children:"ERROR"})]});default:return null}})()}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a.A,{}),(0,l.jsx)(o(),{href:"mailto:help@ventuals.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center transition-colors text-muted hover:text-default text-xs","aria-label":"Email",children:"HELP"}),(0,l.jsx)(o(),{href:"https://docs.ventuals.com",target:"_blank",className:"text-muted hover:underline",children:"DOCS"}),(0,l.jsx)(o(),{href:"https://x.com/ventuals_",target:"_blank",rel:"noopener noreferrer",className:"flex items-center transition-colors text-muted hover:text-default","aria-label":"X",children:(0,l.jsx)(r.A,{width:12,height:12})}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.A,{className:"text-muted",size:10}),(0,l.jsx)("span",{className:"text-xs text-muted uppercase",children:"Ionic Labs, Inc"})]})]})]})}},42630:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(58438);function r(e,t){var s;let{numberString:r,isNegative:a}=(0,l.f)(e,{variant:"short",maxDecimalPlaces:null!=(s=null==t?void 0:t.maxDecimalPlaces)?s:2});return a?"-".concat(r,"%"):"".concat(r,"%")}},46864:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,Y:()=>i});var l=s(54568),r=s(61773),a=s(7620);let n=e=>{let{id:t,url:s,source:n,timeAgo:i,title:d,description:o,imageUrl:c}=e,[u,x]=(0,a.useState)(!1);return(0,l.jsx)("div",{className:"cursor-pointer border-b border-dotted border-border-default last:border-b-0 pb-4 last:pb-0",children:(0,l.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:[c&&!u&&(0,l.jsx)("div",{className:"relative w-full aspect-video mb-3 rounded-lg overflow-hidden",children:(0,l.jsx)(r.default,{src:c,alt:d,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover",onError:()=>x(!0)})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-muted mb-1 font-mono",children:[(0,l.jsx)("span",{className:"uppercase",children:n}),(0,l.jsx)("span",{children:"â€¢"}),(0,l.jsx)("span",{className:"uppercase",children:i})]}),(0,l.jsx)("h4",{className:"font-sans text-sm font-semibold mb-1 line-clamp-2",children:d}),(0,l.jsx)("p",{className:"text-xs text-muted line-clamp-2 font-sans",children:o})]})]},t)})};function i(){return(0,l.jsx)("div",{className:"border-b border-dotted border-border-default last:border-b-0 pb-4 last:pb-0",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"relative w-full aspect-video mb-3 rounded-lg overflow-hidden bg-layer-3"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("div",{className:"h-2.5 bg-layer-3 rounded w-16"}),(0,l.jsx)("span",{className:"text-default/20",children:"â€¢"}),(0,l.jsx)("div",{className:"h-2.5 bg-layer-3 rounded w-12"})]}),(0,l.jsxs)("div",{className:"space-y-1 mb-1",children:[(0,l.jsx)("div",{className:"h-3.5 bg-layer-3 rounded w-full"}),(0,l.jsx)("div",{className:"h-3.5 bg-layer-3 rounded w-3/4"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"h-3 bg-layer-3 rounded w-full"}),(0,l.jsx)("div",{className:"h-3 bg-layer-3 rounded w-2/3"})]})]})]})})}},48730:(e,t,s)=>{Promise.resolve().then(s.bind(s,72175))},72175:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>tc});var l=s(54568),r=s(61574),a=s(14482),n=s(45546),i=s(30124),d=s(46140),o=s(7620);let c=(0,o.createContext)(void 0);function u(e){let{coin:t,children:s}=e;return(0,l.jsx)(c.Provider,{value:{coin:t},children:s})}function x(){let e=(0,o.useContext)(c);if(void 0===e)throw Error("useCoin must be used within an ActiveAssetProvider");return e.coin}var m=s(62942);let f=(0,o.createContext)(void 0);function h(e){let{children:t}=e,s=(0,m.useSearchParams)(),r=(0,m.useRouter)(),[a,n]=(0,o.useState)(()=>"short"!==s.get("side")),i=(0,o.useCallback)(e=>{n(e);let t=new URL(window.location.href);t.searchParams.set("side",e?"long":"short"),r.replace(t.toString(),{scroll:!1})},[r]);(0,o.useEffect)(()=>{n("short"!==s.get("side"))},[s]);let d=(0,o.useMemo)(()=>({isLong:a,setIsLong:i}),[a,i]);return(0,l.jsx)(f.Provider,{value:d,children:t})}function p(){let e=(0,o.useContext)(f);if(void 0===e)throw Error("useTradeDirection must be used within a TradeDirectionProvider");return e}var b=s(79307),j=s(90030);function v(e){let t=(0,a.n)(),s=(0,j.A)(),l=(0,o.useMemo)(()=>({type:"activeAssetData",dex:t,coin:e,user:s}),[t,e,s]),r=(0,o.useCallback)(e=>e,[]);return(0,b.k)({payload:l,extractData:r,initialData:{},enabled:!!s})}var g=s(80647),N=s(47236),y=s(80294),w=s(44903),A=s(46786),S=s(15904),C=s(65364),k=s(79458),P=s(88032),E=s(50212),R=s(89145),L=s(74711),D=s(51874);let T=[1,2,3,4,5,6,7,8,9,10];function O(){var e,t;let[s,r]=(0,o.useState)(10),{isLong:a}=p(),n=x(),d=v(n),c=function(e){let{user:t}=(0,w.Jd)(),s=(0,S.B)(e),l=(0,A.X)(),r=(0,C.b)(),{agentWallet:a,promptApproveNewAgent:n}=(0,N.q)();return async e=>{if(!(null==t?void 0:t.wallet))throw Error("Wallet not connected");if(!l)throw Error("Hyperliquid account does not exist for this wallet.");let i=a;if(!i){let e=await n();if(null===e)return console.warn("User denied agent approval"),null;i=e}let d={asset:s,isCross:e.isCross,leverage:e.leverage};console.log("[client] updating leverage with args:",d);let o=new y.PM({transport:new y.G5({isTestnet:r,fetchOptions:{keepalive:!1}}),isTestnet:r,wallet:i}),c=await o.updateLeverage(d);return console.log("[client] update leverage response:",c),c}}(n),[u,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{var e;(null==d||null==(e=d.leverage)?void 0:e.value)&&r(d.leverage.value)},[null==d||null==(e=d.leverage)?void 0:e.value]);let f=new R.A((null==d||null==(t=d.availableToTrade)?void 0:t[+!a])||"0").toDecimalPlaces(2,R.A.ROUND_DOWN).toNumber(),{assetPositions:h}=(0,g.u)(),b=h.find(e=>e.position.coin===n),j=b?Number.parseFloat(b.position.szi):0,O=(0,o.useCallback)(async e=>{if(u)return;let t="updating-leverage-".concat(Date.now());m(!0);try{D.oR.loading("Updating leverage",{id:t}),await c({isCross:!0,leverage:e})?(r(e),D.oR.success("Leverage updated to ".concat(e,"x"),{id:t})):D.oR.dismiss(t)}catch(e){console.error("Error updating leverage:",e),D.oR.error("Failed to update leverage: ".concat(e instanceof Error?e.message:"Unknown error"),{id:t,duration:5e3})}finally{m(!1)}},[u,c]);return(0,l.jsxs)("div",{className:"justify-self-stretch border-l border-b border-border-default flex flex-row",children:[(0,l.jsxs)("div",{className:"border-r border-border-default flex flex-col gap-2 p-4 w-3/4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("span",{className:"text-muted text-xs",children:"AVAILABLE"}),(0,l.jsx)("span",{className:"text-sm",children:(0,k.A)(f)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("span",{className:"text-muted text-xs",children:"YOUR POSITION"}),(0,l.jsxs)("span",{className:"text-sm ".concat(0===j?"text-default":j>0?"text-brand-green":"text-brand-red"),children:[(0,P.A)(j,{maxDecimalPlaces:5})," ",(0,i.A)(n)]})]})]}),(0,l.jsxs)("div",{className:"flex items-left flex-col p-4 pb-0",children:[(0,l.jsx)("div",{className:"text-muted text-xs",children:"LEVERAGE"}),(0,l.jsxs)(E.bL,{children:[(0,l.jsx)(E.l9,{asChild:!0,children:(0,l.jsxs)("button",{type:"button",className:"flex items-center justify-start gap-1 py-2 text-md font-medium focus:outline-none",children:[(0,l.jsxs)("span",{className:"text-default uppercase",children:[s,"x"]}),(0,l.jsx)(L.A,{className:"h-4 w-4 text-muted"})]})}),(0,l.jsx)(E.ZL,{children:(0,l.jsx)(E.UC,{className:"bg-layer-1 shadow-xs shadow-layer-3 text-default border border-border-default shadow-lg w-28 py-1 z-20",children:T.map(e=>(0,l.jsxs)(E.q7,{className:"uppercase w-28 text-left px-4 py-2 text-sm hover:bg-layer-3 cursor-pointer outline-none ".concat(s===e?"bg-layer-3 text-default":"text-muted hover:text-default"),onClick:()=>O(e),children:[e,"x"]},e))})})]})]})]})}var I=s(36010),z=s(15328),U=s(27261),M=s.n(U),F=s(46864),_=s(24990);function W(e){var t,s,r;let{className:a}=e,n=x(),i=(0,z.$g)(n),{data:d,isLoading:o}=I.K.companies.getCompanyNews.useQuery({queryKey:["companyNews",null!=(t=null==i?void 0:i.slug)?t:""],queryData:{params:{slug:null!=(s=null==i?void 0:i.slug)?s:""}},enabled:!!(null==i?void 0:i.slug)}),c=null!=(r=null==d?void 0:d.body)?r:[];return o||0!==c.length?(0,l.jsx)("div",{className:(0,_.A)("space-y-4",a),children:o?(0,l.jsx)("div",{className:"space-y-4",children:Array.from({length:3},(e,t)=>(0,l.jsx)(F.Y,{},t))}):c.map(e=>(0,l.jsx)(F.A,{id:e.id,url:e.url,source:e.source,timeAgo:e.timeAgo,title:e.title,description:e.description,imageUrl:e.imageUrl},e.id))}):null}function V(e){let{newsItems:t,className:s}=e;return(0,l.jsx)("div",{className:(0,_.A)("space-y-4",s),children:t.map(e=>(0,l.jsx)(F.A,{id:e.id,url:e.url,source:e.source,timeAgo:e.timeAgo,title:e.title,description:e.description,imageUrl:e.imageUrl},e.id))})}var q=s(25059),G=s(91577);function B(){var e,t,s;let r=x(),a=(0,z.$g)(r),[n,i]=(0,o.useState)("overview"),{data:d}=I.K.companies.getCompanyNews.useQuery({queryKey:["companyNews",null!=(e=null==a?void 0:a.slug)?e:""],queryData:{params:{slug:null!=(t=null==a?void 0:a.slug)?t:""}},enabled:!!(null==a?void 0:a.slug)}),c=null!=(s=null==d?void 0:d.body)?s:[],u=c.length>0;return(0,o.useEffect)(()=>{"news"!==n||u||i("overview")},[n,u]),(0,l.jsxs)("div",{className:"bg-layer-1 text-default",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-4 text-sm border-b border-dotted border-border-default",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>i("overview"),className:"p-4 relative ".concat("overview"===n?"text-default":"text-muted hover:text-default"),children:["OVERVIEW","overview"===n&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]}),u&&(0,l.jsxs)("button",{type:"button",onClick:()=>i("news"),className:"p-4 relative ".concat("news"===n?"text-default":"text-muted hover:text-default"),children:["NEWS","news"===n&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]})]}),(()=>{switch(n){case"overview":return(0,l.jsx)(K,{});case"news":return u?(0,l.jsx)(V,{newsItems:c,className:"p-4"}):null}})()]})}function K(){let e=x(),t=(0,z.$g)(e);return t?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"p-4 flex flex-col gap-2",children:[(0,l.jsx)($,{label:"summary"}),(0,l.jsx)("p",{className:"text-sm text-default font-sans",children:t.description})]}),(0,l.jsx)(H,{company:t}),(0,l.jsx)(Q,{links:t.links})]}):(0,l.jsx)(Z,{})}function H(e){let{company:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-2 px-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)($,{label:"lrv",tooltip:{title:"Last Round Valuation",content:"The valuation of the company at the last round of funding."}}),(0,l.jsxs)(Y,{children:[(0,l.jsx)("span",{children:(0,d.A)(t.metadata.lastFundraise.valuation,{maxDecimalPlaces:0})})," ",t.metadata.lastFundraise.isRumored?(0,l.jsx)("span",{className:"text-default",children:"(rumored)"}):(0,l.jsxs)("span",{children:["(",t.metadata.lastFundraise.date.toLocaleDateString(void 0,{month:"short",year:"numeric"}),")"]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)($,{label:"last raised"}),(0,l.jsxs)(Y,{children:[(0,l.jsx)("span",{children:t.metadata.lastFundraise.amount?(0,d.A)(t.metadata.lastFundraise.amount,{maxDecimalPlaces:0}):"Unknown"})," ","(",(0,l.jsx)("span",{children:t.metadata.lastFundraise.date.toLocaleDateString(void 0,{month:"short",year:"numeric"})}),")"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)($,{label:"total raised"}),(0,l.jsx)(Y,{children:(0,d.A)(t.metadata.totalAmountRaised)})]}),t.metadata.reportedRevenue&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)($,{label:"reported revenue"}),(0,l.jsxs)(Y,{children:[(0,l.jsx)("span",{children:(0,d.A)(t.metadata.reportedRevenue.amount,{maxDecimalPlaces:1})})," ","(FY ",(0,l.jsx)("span",{children:t.metadata.reportedRevenue.period.getFullYear()}),")"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)($,{label:"headquarters"}),(0,l.jsx)(Y,{children:t.metadata.headquarters})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)($,{label:"founded"}),(0,l.jsx)(Y,{children:t.metadata.yearFounded})]})]})}function $(e){let{label:t,tooltip:s}=e;return s?(0,l.jsx)(q.A,{title:s.title,content:s.content,children:(0,l.jsx)("div",{className:"text-muted text-xs uppercase cursor-pointer underline decoration-dashed underline-offset-2",children:t})}):(0,l.jsx)("div",{className:"text-muted text-xs uppercase",children:t})}function Y(e){let{children:t}=e;return(0,l.jsx)("span",{className:"text-default text-xs font-medium",children:t})}function Q(e){let{links:t}=e;return t?(0,l.jsx)("div",{className:"p-4 flex flex-wrap gap-2",children:t.map(e=>(0,l.jsx)(M(),{href:e.url,target:"_blank",className:"border border-border-default hover:bg-layer-3 text-default px-3 py-1 rounded text-xs flex items-center font-sans",children:"X"===e.title?(0,l.jsx)(G.A,{width:12,height:12}):e.title},e.title))}):null}function Z(){return(0,l.jsxs)("div",{className:"bg-layer-1 text-default h-full flex flex-col",children:[(0,l.jsxs)("div",{className:"p-4 flex flex-col gap-2",children:[(0,l.jsx)("div",{className:"h-3 bg-layer-3 rounded animate-pulse w-16"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-full"}),(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-3/4"}),(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-1/2"})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-2 px-4",children:Array.from({length:6}).map((e,t)=>(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("div",{className:"h-3 bg-layer-3 rounded animate-pulse w-20"}),(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-24"})]},t))}),(0,l.jsx)("div",{className:"p-4 flex flex-wrap gap-2",children:Array.from({length:4}).map((e,t)=>(0,l.jsx)("div",{className:"h-7 bg-layer-3 rounded animate-pulse w-16"},t))})]})}var J=s(56390);function X(e){return e<1?5:e<10?4:e<100?3:2}let ee=e=>{let{order:t,type:s,maxTotal:r}=e,a=r>0?t.total/r*100:0,n=t.price;return(0,l.jsxs)("div",{className:"relative h-6 flex items-center font-mono",children:[(0,l.jsx)("div",{className:"absolute left-0 h-full ".concat("bid"===s?"bg-brand-green-faded":"bg-brand-red-faded"),style:{width:"".concat(a,"%")}}),(0,l.jsxs)("div",{className:"relative grid grid-cols-3 w-full text-xs px-4",children:[(0,l.jsx)("span",{className:"bid"===s?"text-brand-green":"text-brand-red",children:(0,k.A)(n,{maxDecimalPlaces:X(n)})}),(0,l.jsx)("span",{className:"text-center text-muted",children:(0,P.A)(new R.W(t.size).toNumber())}),(0,l.jsx)("span",{className:"text-right",children:(0,P.A)(t.total)})]})]})},et=()=>{let e=x(),t=(0,J.f)(e),[s,r]=(0,o.useState)("usdc"),a=e=>{r(e)},n="usdc"===s?"$":(0,i.A)(e),c=[],u=new R.W(0);if(t)for(let e of t.levels[0].slice(0,10)){let t=new R.W(e.px);if("usdc"===s){let s=new R.W(e.sz),l=t.mul(s);u=u.add(l),c.push({price:t.toNumber(),size:l.toNumber(),total:u.toNumber()})}else{let s=new R.W(e.sz);u=u.add(s),c.push({price:t.toNumber(),size:s.toNumber(),total:u.toNumber()})}}let m=[],f=new R.W(0);if(t)for(let e of t.levels[1].slice(0,10)){let t=new R.W(e.px);if("usdc"===s){let s=new R.W(e.sz),l=t.mul(s);f=f.add(l),m.push({price:t.toNumber(),size:l.toNumber(),total:f.toNumber()})}else{let s=new R.W(e.sz);f=f.add(s),m.push({price:t.toNumber(),size:s.toNumber(),total:f.toNumber()})}}let h=Math.max(...[...c,...m].map(e=>e.total),0),p=m[0],b=c[0],j=p?p.price:0,v=b?b.price:0,g=j>0&&v>0?j-v:0,N=j>0?g/j*100:0,y=j>0&&v>0?(j+v)/2:0;return(0,l.jsxs)("div",{className:"flex flex-col font-mono",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 text-xs text-muted pb-1 pt-1 px-4",children:(0,l.jsx)("div",{className:"text-right flex justify-end",children:(0,l.jsxs)(E.bL,{children:[(0,l.jsx)(E.l9,{asChild:!0,children:(0,l.jsxs)("button",{type:"button",className:"py-2 flex items-center gap-1 text-muted text-xs cursor-pointer hover:text-default transition-colors focus:outline-none",children:[(0,l.jsx)("span",{className:"text-default font-medium",children:"usdc"===s?"USD":(0,i.A)(e)}),(0,l.jsx)(L.A,{className:"h-3 w-3"})]})}),(0,l.jsx)(E.ZL,{children:(0,l.jsxs)(E.UC,{className:"bg-layer-1 rounded shadow-sm border border-border-default z-10 w-20 py-1",align:"end",children:[(0,l.jsx)(E.q7,{className:"w-full text-left px-3 py-2 text-sm hover:bg-layer-3 transition-colors cursor-pointer outline-none ".concat("usdc"===s?"bg-layer-3 text-default font-medium":"text-muted hover:text-default"),onClick:()=>a("usdc"),children:"USD"}),(0,l.jsx)(E.q7,{className:"w-full text-left px-3 py-2 text-sm hover:bg-layer-3 transition-colors cursor-pointer outline-none ".concat("asset"===s?"bg-layer-3 text-default font-medium":"text-muted hover:text-default"),onClick:()=>a("asset"),children:(0,i.A)(e)})]})})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-3 text-xs text-muted pb-4 pt-2 px-4",children:[(0,l.jsx)("span",{className:"",children:"ASK / BID"}),(0,l.jsxs)("span",{className:"text-center",children:["SIZE (",n,")"]}),(0,l.jsxs)("span",{className:"text-right",children:["TOTAL (",n,")"]})]}),(0,l.jsx)("div",{className:"flex flex-col-reverse gap-1",children:m.map(e=>(0,l.jsx)(ee,{order:e,type:"ask",maxTotal:h},"ask-".concat(e.price)))}),(0,l.jsxs)("div",{className:"py-2 bg-layer-2 w-full grid grid-cols-3 px-4 items-center",children:[(0,l.jsx)("span",{className:"text-left text-md",children:(0,k.A)(y,{maxDecimalPlaces:X(y)})}),(0,l.jsx)("div",{className:"text-center text-muted text-xs",children:"SPREAD"}),(0,l.jsxs)("span",{className:"text-right text-muted text-xs",children:[(0,d.A)(g)," (",N.toFixed(2),"%)"]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-1",children:c.map(e=>(0,l.jsx)(ee,{order:e,type:"bid",maxTotal:h},"bid-".concat(e.price)))})]})};var es=s(59588),el=s(93348);let er=()=>{let e=function(){let[e,t]=(0,o.useState)([]),s=(0,a.n)(),l=x(),r=(0,o.useMemo)(()=>({type:"trades",coin:l,dex:s}),[l,s]),n=(0,o.useCallback)(e=>e.filter(e=>e.coin===l),[l]),i=(0,b.k)({payload:r,extractData:n,initialData:[]});return(0,o.useEffect)(()=>{t(e=>{let t=[...e,...i],s=new Set;return t.filter(e=>!s.has(e.tid)&&(s.add(e.tid),!0)).slice(-30)})},[i]),e}(),{timezone:t,setTimezone:s}=(0,es.U)();return(0,l.jsxs)("table",{className:"w-full text-sm text-left font-mono",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-muted",children:[(0,l.jsx)("th",{className:"py-4 font-light text-xs text-muted uppercase pl-4",children:"Price (USD)"}),(0,l.jsx)("th",{className:"py-4 font-light text-xs text-muted uppercase text-center",children:"Size"}),(0,l.jsx)("th",{className:"py-4 font-light text-xs text-muted uppercase text-right pr-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)("span",{children:"TIME"}),(0,l.jsx)("button",{type:"button",className:"bg-layer-3 px-2 py-1 rounded text-xs text-muted cursor-pointer uppercase",onClick:()=>s("utc"===t?"local":"utc"),children:"utc"===t?"UTC":"Local"})]})})]})}),(0,l.jsx)("tbody",{children:[...e].reverse().map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-1 text-xs pl-4 uppercase ".concat("B"===e.side?"text-brand-green":"text-brand-red"),children:(0,k.A)(new R.W(e.px).toNumber())}),(0,l.jsx)("td",{className:"py-1 text-xs text-center uppercase",children:e.sz}),(0,l.jsx)("td",{className:"py-1 text-xs text-right uppercase text-muted pr-4",children:(0,l.jsx)(el.A,{timestamp:e.time,className:"text-xs"})})]},e.tid))})]})};function ea(){let[e,t]=(0,o.useState)("orders");return(0,l.jsxs)("div",{className:"bg-layer-1 text-default",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-4 text-sm border-b border-dotted border-border-default",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>t("orders"),className:"p-4 relative ".concat("orders"===e?"text-default":"text-muted hover:text-default"),children:["ORDERS","orders"===e&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>t("trades"),className:"p-4 relative ".concat("trades"===e?"text-default":"text-muted hover:text-default"),children:["TRADES","trades"===e&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]})]}),"orders"===e?(0,l.jsx)(et,{}):(0,l.jsx)(er,{})]})}var en=s(5598),ei=s(24674),ed=s(42630),eo=s(67991),ec=s(12463),eu=s(61773),ex=s(9730);function em(e){let{className:t}=e,s=x(),r=(0,z.$g)(s),[a,n]=(0,o.useState)(!1),d=(0,m.useRouter)();return r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{type:"button",className:"flex items-center justify-between ".concat(t),onClick:()=>n(!0),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-layer-1 rounded-full overflow-hidden",children:(0,l.jsx)(eu.default,{src:r.logo,alt:r.name,width:32,height:32})}),(0,l.jsxs)("div",{className:"flex flex-col text-left",children:[(0,l.jsx)("h2",{className:"text-lg font-bold",children:r.name}),(0,l.jsx)("span",{className:"text-sm text-muted",children:(0,i.A)(s)})]})]}),(0,l.jsx)("span",{className:"flex items-center gap-2",children:(0,l.jsx)(L.A,{className:"w-4 h-4"})})]}),(0,l.jsx)(ef,{isOpen:a,onClose:()=>n(!1),onSelectCompany:e=>{let t=(0,eo.A)(e);d.push("/trade/".concat(t))}})]}):(0,l.jsxs)("div",{className:"flex items-center gap-2 ".concat(t),children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-layer-3 rounded-full animate-pulse"}),(0,l.jsx)("div",{className:"h-5 bg-layer-3 rounded animate-pulse w-32"}),(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-16"})]})}function ef(e){let{isOpen:t,onClose:s,onSelectCompany:r}=e,a=(0,z.Rr)(),[n,d]=(0,o.useState)(""),[c,u]=(0,o.useState)(!1),[x,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(t)m(!0),requestAnimationFrame(()=>{u(!0)});else{u(!1);let e=setTimeout(()=>{m(!1)},300);return()=>clearTimeout(e)}},[t]);let f=(0,o.useMemo)(()=>{let e=a.filter(e=>e.hyperliquidCoin);if(!n.trim())return e;let t=n.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(t)||e.hyperliquidCoin&&(0,i.A)(e.hyperliquidCoin).toLowerCase().includes(t))},[a,n]),h=e=>{r(e),s(),d("")},p=()=>{s(),d("")};return x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed left-[600px] top-16 right-0 bottom-0 bg-layer-2/50 backdrop-blur-sm z-40 transition-opacity duration-300 ".concat(c?"opacity-100":"opacity-0"),onClick:p,onKeyDown:e=>{"Escape"===e.key&&p()},role:"button",tabIndex:0}),(0,l.jsxs)("div",{className:"fixed left-0 top-16 h-[calc(100vh-4rem)] min-w-[600px] max-w-[700px] w-1/3 bg-layer-1 border-r border-border-default z-50 flex flex-col transition-opacity duration-300 ease-out ".concat(c?"opacity-100":"opacity-0"),children:[(0,l.jsxs)("div",{className:"px-4 py-2 border-b border-dotted border-border-default flex items-center",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search for a market...",value:n,onChange:e=>d(e.target.value),className:"w-full pr-10 py-2 bg-layer-1 rounded-lg focus:outline-none focus:border-transparent font-sans"}),(0,l.jsx)("button",{type:"button",onClick:p,className:"text-muted hover:text-default",children:(0,l.jsx)(ec.A,{className:"w-4 h-4"})})]}),(0,l.jsx)("div",{className:"px-4 py-3 border-b border-dotted border-border-default bg-layer-1",children:(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-4 text-xs font-medium text-muted uppercase tracking-wide",children:[(0,l.jsx)("div",{className:"col-span-2",children:"Name"}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:"Price"}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:"Market Val"}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:"24H Chg"}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:"24H Vol"})]})}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:f.length>0?f.map(e=>(0,l.jsx)(eh,{company:e,onSelect:()=>h(e.hyperliquidCoin||"")},e.hyperliquidCoin)):(0,l.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-center font-sans",children:(0,l.jsxs)("div",{className:"w-1/2",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-default mb-2",children:"No markets found"}),(0,l.jsx)("p",{className:"text-sm text-muted mb-6",children:"We couldn't find any tradable markets with a close match."}),(0,l.jsx)("button",{type:"button",className:"px-6 py-2 border border-brand-green text-brand-green text-sm bg-layer-1 rounded hover:bg-brand-green-faded transition-colors font-mono",children:"REQUEST"})]})})})]})]}):null}function eh(e){let{company:t,onSelect:s}=e,a=t.hyperliquidCoin||"",n=(0,r.A)(a),i=!n,o=n&&Number(n.prevDayPx)>0?(Number(n.markPx)-Number(n.prevDayPx))/Number(n.prevDayPx)*100:0;return(0,l.jsx)("button",{type:"button",onClick:s,className:"w-full px-4 py-3 border-b border-dotted border-border-default hover:bg-layer-1 transition-colors text-left",children:(0,l.jsxs)("div",{className:"py-2 grid grid-cols-6 gap-4 items-center",children:[(0,l.jsx)("div",{className:"col-span-2 flex items-center gap-3",children:(0,l.jsx)(ex.A,{company:t})}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:i?(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-16 ml-auto"}):t.tradingEnabled?(0,l.jsx)("span",{className:"text-sm text-default",children:(0,k.A)(Number(n.midPx))}):(0,l.jsx)("span",{className:"text-[11px] text-muted uppercase",children:"Coming soon"})}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:i?(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-16 ml-auto"}):t.tradingEnabled?(0,l.jsxs)("span",{className:"text-sm text-default",children:[(0,ei.A)(Number(n.midPx)).value,(0,l.jsx)("span",{className:"text-faint",children:(0,ei.A)(Number(n.midPx)).unit})]}):(0,l.jsx)("span",{className:"text-[11px] text-muted uppercase",children:"Coming soon"})}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:i?(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-12 ml-auto"}):t.tradingEnabled?(0,l.jsx)("span",{className:"text-sm ".concat(o>0?"text-brand-green":o<0?"text-brand-red":"text-default"),children:(0,ed.A)(o)}):(0,l.jsx)("span",{className:"text-sm text-muted uppercase",children:"--"})}),(0,l.jsx)("div",{className:"col-span-1 text-right",children:i?(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-20 ml-auto"}):t.tradingEnabled?(0,l.jsx)("span",{className:"text-sm text-default",children:(0,d.A)(Number(n.dayNtlVlm))}):(0,l.jsx)("span",{className:"text-sm text-muted uppercase",children:"--"})})]})})}function ep(){var e,t;let s=x(),n=(0,z.$g)(s),c=(0,a.n)()===en.Cn.dex?e=>new R.A(e).mul(en.Cn.scaleFactor).toDecimalPlaces(0,R.A.ROUND_DOWN).toNumber():e=>new R.A(e).toNumber(),u=(0,r.A)(s),[m,f]=(0,o.useState)(null),[h,p]=(0,o.useState)(null),b=(0,o.useRef)(null);(0,o.useEffect)(()=>{if((null==u?void 0:u.midPx)&&m&&u.midPx!==m){let e=Number(u.midPx),t=Number(m);e>t?p("up"):e<t&&p("down"),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{p(null)},1e3)}(null==u?void 0:u.midPx)&&f(u.midPx)},[null==u?void 0:u.midPx,m]),(0,o.useEffect)(()=>()=>{b.current&&clearTimeout(b.current)},[]);let j=u&&Number(u.prevDayPx)>0?(Number(u.markPx)-Number(u.prevDayPx))/Number(u.prevDayPx)*100:0;return(0,l.jsxs)("div",{className:"bg-layer-1 text-default flex flex-col",children:[(0,l.jsxs)("div",{className:"hidden md:flex text-sm border-b border-border-default",children:[(0,l.jsx)(em,{className:"flex-1 border-r border-border-default p-4"}),(0,l.jsx)("div",{className:"flex-col justify-center p-4 border-r border-border-default flex-1 min-w-[300px]",children:(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"text-muted text-xs mb-1",children:"PRICE"}),(0,l.jsx)("div",{className:"text-xl font-bold transition-all duration-1000 ".concat("up"===h?"text-brand-green":"down"===h?"text-brand-red":"text-default"),children:(null==u?void 0:u.midPx)?(0,l.jsx)("span",{children:(0,k.A)(Number.parseFloat(u.midPx),{maxDecimalPlaces:10>Number.parseFloat(u.midPx)?4:2})}):(0,l.jsx)("span",{children:"--"})})]}),(0,l.jsx)("div",{className:"px-4 pt-5 flex-1",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"border-b-[2px] border-dashed border-border-default w-full"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-layer-1 via-transparent via-transparent to-layer-1 pointer-events-none"})]})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(q.A,{content:"Company valuations are divided by 1 billion and represented as Valuation Units for easy readability. For example, if the valuation of ".concat((null==n?void 0:n.name)||"OpenAI"," on Ventuals is at ").concat((0,d.A)(new R.W(null!=(e=null==u?void 0:u.midPx)?e:100).toNumber()),"B, then the price of 1 ").concat((0,i.A)(s)," = ").concat((0,d.A)(new R.W(null!=(t=null==u?void 0:u.midPx)?t:100).toNumber()),"."),children:(0,l.jsx)("div",{className:"text-right text-muted text-xs mb-1 underline cursor-pointer decoration-dashed underline-offset-2",children:"IMPLIED VAL"})}),(0,l.jsx)("div",{className:"text-xl font-bold transition-all duration-1000 ".concat("up"===h?"text-brand-green":"down"===h?"text-brand-red":"text-default"),children:(null==u?void 0:u.midPx)?(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{children:(0,ei.A)(Number(u.midPx)).value}),(0,l.jsx)("span",{className:"text-muted",children:(0,ei.A)(Number(u.midPx)).unit})]}):(0,l.jsx)("span",{children:"--"})})]})]})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 justify-center p-4 border-r border-border-default flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("div",{className:"text-muted text-xs",children:"MARK"}),(null==u?void 0:u.markPx)?(0,l.jsx)("span",{className:"text-default",children:(0,d.A)(c(u.markPx))}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)(q.A,{content:"The oracle price uses a 50/50 weighting of an external valuation estimate from offchain data and an 8 hour EMA of the mark price.",children:(0,l.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,l.jsx)("div",{className:"text-muted text-xs underline cursor-pointer decoration-dashed underline-offset-2",children:"ORACLE"})})}),(null==u?void 0:u.oraclePx)?(0,l.jsx)("span",{className:"text-default",children:(0,d.A)(c(u.oraclePx))}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 justify-center p-4 border-r border-border-default flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)(q.A,{title:"Open Interest",content:"Two-sided open interest. The sum of long and short positions on this market.",children:(0,l.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,l.jsx)("div",{className:"text-muted text-xs underline cursor-pointer decoration-dashed underline-offset-2",children:"OI"})})}),(null==u?void 0:u.openInterest)&&(null==u?void 0:u.markPx)?(0,l.jsx)("span",{className:"text-default",children:(0,d.A)(Number(u.openInterest)*new R.W(u.markPx).toNumber())}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)(q.A,{content:"The hourly rate at which longs pay shorts. If negative, shorts pay longs. See docs for more details.",children:(0,l.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,l.jsx)("div",{className:"text-muted text-xs underline cursor-pointer decoration-dashed underline-offset-2",children:"FUNDING"})})}),(null==u?void 0:u.funding)?(0,l.jsx)(q.A,{className:"w-auto",content:"Annualized: ".concat((0,ed.A)(24*Number(u.funding)*36500,{maxDecimalPlaces:4})),children:(0,l.jsx)("span",{className:" ".concat(Number(u.funding)>=0?"text-brand-green":"text-brand-red"),children:(0,ed.A)(100*Number(u.funding),{maxDecimalPlaces:4})})}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 justify-center p-4 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("div",{className:"text-muted text-xs",children:"24H CHG"}),(0,l.jsx)("span",{className:"".concat(j>0?"text-brand-green":j<0?"text-brand-red":"text-muted"),children:(0,ed.A)(j)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("div",{className:"text-muted text-xs",children:"24H VOL"}),(null==u?void 0:u.dayNtlVlm)&&!Number.isNaN(Number(u.dayNtlVlm))?(0,l.jsx)("span",{className:"text-default",children:(0,d.A)(Number(u.dayNtlVlm))}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]})]})]}),(0,l.jsxs)("div",{className:"flex md:hidden text-sm border-b border-border-default",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 justify-center p-4 border-r border-border-default flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("div",{className:"text-muted text-xs",children:"MARK"}),(null==u?void 0:u.markPx)?(0,l.jsx)("span",{className:"text-default",children:(0,d.A)(c(u.markPx))}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)(q.A,{content:"The oracle price uses a 50/50 weighting of an external valuation estimate from offchain data and an 8 hour EMA of the mark price.",children:(0,l.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,l.jsx)("div",{className:"text-muted text-xs underline cursor-pointer decoration-dashed underline-offset-2",children:"ORACLE"})})}),(0,l.jsx)("span",{className:(null==u?void 0:u.oraclePx)?"":"text-muted",children:(null==u?void 0:u.oraclePx)?"".concat((0,d.A)(c(u.oraclePx))):"--"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("div",{className:"text-muted text-xs",children:"24H CHG"}),(0,l.jsx)("span",{className:"".concat(j>0?"text-brand-green":j<0?"text-brand-red":"text-default"),children:(0,ed.A)(j)})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 justify-center p-4 border-r border-border-default flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)(q.A,{title:"Open Interest",content:"Two-sided open interest. The sum of long and short positions on this market.",children:(0,l.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,l.jsx)("div",{className:"text-muted text-xs underline cursor-pointer decoration-dashed underline-offset-2",children:"OI"})})}),(null==u?void 0:u.openInterest)&&(null==u?void 0:u.markPx)?(0,l.jsx)("span",{className:"text-default",children:(0,d.A)(Number(u.openInterest)*new R.W(u.markPx).toNumber())}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)(q.A,{content:"The hourly rate at which longs pay shorts. If negative, shorts pay longs. See docs for more details.",children:(0,l.jsx)("div",{className:"flex flex-col items-start justify-between",children:(0,l.jsx)("div",{className:"text-muted text-xs underline cursor-pointer decoration-dashed underline-offset-2",children:"FUNDING"})})}),(null==u?void 0:u.funding)?(0,l.jsx)(q.A,{className:"w-auto",content:"Annualized: ".concat((0,ed.A)(24*Number(u.funding)*36500,{maxDecimalPlaces:4})),children:(0,l.jsx)("span",{className:"".concat(Number(u.funding)>=0?"text-brand-green":"text-brand-red"),children:(0,ed.A)(100*Number(u.funding),{maxDecimalPlaces:4})})}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,l.jsx)("div",{className:"text-muted text-xs",children:"24H VOL"}),(null==u?void 0:u.dayNtlVlm)&&!Number.isNaN(Number(u.dayNtlVlm))?(0,l.jsx)("span",{className:"text-default",children:(0,d.A)(Number(u.dayNtlVlm))}):(0,l.jsx)("span",{className:"text-muted",children:"--"})]})]})]})]})}var eb=s(58438);function ej(e){var t;let{className:s}=e,r=x(),a=(0,z.$g)(r),{data:n,isLoading:i}=I.K.markets.getMarketActivitySummary.useQuery({queryKey:["marketActivitySummary",r],queryData:{params:{coin:r}},enabled:!!r&&(null==a?void 0:a.tradingEnabled)}),o=null==n||null==(t=n.body)?void 0:t["24h"];return(null==a?void 0:a.tradingEnabled)&&!i&&o?(0,l.jsx)("div",{className:(0,_.A)("p-4",s),children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"text-default text-sm uppercase",children:"24h activity"}),(0,l.jsx)(ev,{buyValue:o.buyCount,sellValue:o.sellCount,formatValue:e=>(0,eb.A)(e),buyLabel:"Buys",sellLabel:"Sells"}),(0,l.jsx)(ev,{buyValue:o.buyVolume,sellValue:o.sellVolume,formatValue:e=>(0,d.A)(e),buyLabel:"Buy vol",sellLabel:"Sell vol"}),(0,l.jsx)(ev,{buyValue:o.buyers,sellValue:o.sellers,formatValue:e=>(0,eb.A)(e,{maxDecimalPlaces:0}),buyLabel:"Buyers",sellLabel:"Sellers"})]})}):(0,l.jsx)(eg,{className:s})}function ev(e){let{buyValue:t,sellValue:s,formatValue:r,buyLabel:a="Buy",sellLabel:n="Sell"}=e,i=t+s,d=i>0?t/i*100:50,o=i>0?s/i*100:50;return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-muted uppercase text-xs",children:a}),(0,l.jsx)("span",{className:"text-default text-sm",children:r(t)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-default text-sm",children:r(s)}),(0,l.jsx)("span",{className:"text-muted uppercase text-xs",children:n})]})]}),(0,l.jsx)("div",{className:"flex justify-between h-2",children:i>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"h-full bg-brand-green transition-all duration-300 ease-out",style:{width:"calc(".concat(d,"% - 5px)")}}),(0,l.jsx)("div",{className:"h-full bg-brand-red transition-all duration-300 ease-out",style:{width:"calc(".concat(o,"% - 5px)")}})]}):(0,l.jsx)("div",{className:"inset-0 bg-layer-3 w-full h-full"})})]})}function eg(e){let{className:t}=e;return(0,l.jsx)("div",{className:(0,_.A)("p-4",t),children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"text-default text-sm uppercase",children:"24h activity"}),(0,l.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-20"}),(0,l.jsx)("div",{className:"h-4 bg-layer-3 rounded animate-pulse w-20"})]}),(0,l.jsx)("div",{className:"h-3 bg-layer-3 animate-pulse"})]},t))})]})})}var eN=s(95260),ey=s(17798),ew=s(43862),eA=s(70712);function eS(){let[e,t]=(0,o.useState)("positions");return(0,l.jsxs)("div",{className:"bg-layer-1 text-default border-t border-border-default",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-4 text-sm border-b border-dotted border-border-default",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>t("positions"),className:"p-4 relative ".concat("positions"===e?"text-default":"text-muted hover:text-default"),children:["POSITIONS","positions"===e&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>t("orders"),className:"p-4 relative ".concat("orders"===e?"text-default":"text-muted hover:text-default"),children:["ORDERS","orders"===e&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>t("trade_history"),className:"p-4 relative ".concat("trade_history"===e?"text-default":"text-muted hover:text-default"),children:["TRADE HISTORY","trade_history"===e&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>t("funding_history"),className:"p-4 relative ".concat("funding_history"===e?"text-default":"text-muted hover:text-default"),children:["FUNDING","funding_history"===e&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]})]}),(()=>{switch(e){case"positions":return(0,l.jsx)(ew.A,{onOpenOrdersTab:()=>t("orders")});case"orders":return(0,l.jsx)(ey.A,{className:"max-h-[670px] overflow-y-auto"});case"trade_history":return(0,l.jsx)(eA.A,{className:"max-h-[670px] overflow-y-auto"});case"funding_history":return(0,l.jsx)(eN.A,{className:"max-h-[670px] overflow-y-auto"})}})()]})}var eC=s(67107),ek=s(27650);function eP(e,t){var s;let l=(0,ek.v)(),a=(0,r.A)(e),n=v(e),i=(0,g.u)(),d=new R.W((null==n||null==(s=n.availableToTrade)?void 0:s[+!t])||"0").toDecimalPlaces(2,R.W.ROUND_DOWN).toNumber();return(0,o.useCallback)(s=>{var r,o,c;let u=null==(r=l.data)?void 0:r.get(e);if(!u)throw Error("Meta for coin ".concat(e," not found"));if(!a)throw Error("Asset context not available for size conversion");if(!i)throw Error("Clearinghouse state not available for liquidation calculation");let x=s.assetSize.times(s.orderPrice),m=u.marginTableId;m>50&&(m=40);let f=i.assetPositions.find(t=>t.position.coin===e),h=new R.W(i.crossMarginSummary.accountValue),p=s.assetSize,b=x,j=t;if(f){let e=new R.W(f.position.szi).abs(),l=new R.W(f.position.positionValue),r=new R.W(f.position.szi).gt(0);r===t?(p=p.add(e),b=b.add(l)):(p=e.sub(s.assetSize),b=l.sub(x),p.lt(0)?(j=!t,p=p.abs(),b=b.abs(),j=!r):j=r)}let v=function(e){let{isLong:t,price:s,accountValue:l,assetSize:r,usdcSize:a,maxLeverage:n}=e,i=l.mul(1/n/2),d=a.div(n).div(2),o=l.sub(d).sub(i),c=new R.W(t?1:-1),u=new R.W(1).div(n);return s.sub(c.mul(o).div(r).div(new R.W(1).sub(u.mul(c))))}({isLong:j,price:b.div(p),accountValue:h,assetSize:p,usdcSize:b,maxLeverage:m});0>v.toNumber()&&(v=null),(null==v?void 0:v.isNaN())&&(v=null);let g=x.div(null!=(c=null==n||null==(o=n.leverage)?void 0:o.value)?c:1),N=g.gt(d)?"Not enough margin":void 0;return{usdcSize:x,marginRequired:g,liquidationPrice:v,errors:N?[N]:void 0}},[l,a,n,i,e,d,t])}var eE=s(40896),eR=s(34652),eL=s(43859),eD=s(85194),eT=s(4592);function eO(e){let{value:t,onChange:s,coin:r}=e,a=(0,J.f)(r),[n,i]=(0,o.useState)(!1),d=(0,o.useRef)(null),c=(0,o.useCallback)(()=>{if(!(null==a?void 0:a.levels)||a.levels.length<2)return null;let e=a.levels[0],t=a.levels[1];if(!(null==e?void 0:e.length)||!(null==t?void 0:t.length))return null;let s=e[0],l=t[0];if(!s||!l)return null;let r=new R.W(s.px),n=new R.W(l.px);return r.plus(n).div(2)},[a]),u=(0,o.useCallback)(e=>{let t=(0,eT.A)(e.target.value);null!==t&&s(t)},[s]),x=(0,o.useCallback)(async()=>{i(!0);try{let e=c();e&&s(e.toFixed(2))}catch(e){console.error("Error fetching mid price:",e)}finally{i(!1)}},[c,s]),m=(0,o.useCallback)(()=>{var e;null==(e=d.current)||e.focus()},[]),f=(0,o.useCallback)(e=>{if("Enter"===e.key||" "===e.key){var t;e.preventDefault(),null==(t=d.current)||t.focus()}},[]);return(0,l.jsxs)("div",{className:"bg-layer-1 border border-border-default rounded p-4 flex items-center justify-between relative cursor-text",onClick:m,onKeyDown:f,"aria-label":"Click to focus limit price input",children:[(0,l.jsx)("div",{className:"text-muted text-sm font-medium uppercase",children:"LIMIT PRICE"}),(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,l.jsx)("input",{ref:d,type:"text",value:t,onChange:u,placeholder:"0.00",className:"flex-1 text-default font-bold text-xl bg-transparent border-none outline-none text-right w-20",inputMode:"decimal"}),(0,l.jsx)("button",{type:"button",onClick:x,disabled:n,className:"text-brand-green text-xs font-medium uppercase hover:text-brand-green disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"...":"MID"})]})]})}var eI=s(10489);function ez(e){let{checked:t,onChange:s}=e;return(0,l.jsx)("div",{className:"flex items-center gap-3 mb-4",children:(0,l.jsxs)("label",{htmlFor:"reduce-only-checkbox",className:"flex items-center gap-2 cursor-pointer",children:[(0,l.jsx)(eI.A,{checked:t,onChange:e=>{s(e)},id:"reduce-only-checkbox"}),(0,l.jsx)("span",{className:"text-sm font-medium text-muted hover:text-default",children:"REDUCE ONLY"})]})})}function eU(e){let{value:t,onChange:s,coin:a,selectedUnit:n="usdc",onUnitChange:d,limitPrice:c}=e,u=(0,o.useRef)(null),x=(0,r.A)(a),m=x?new R.W(x.markPx):null,f=c?new R.W(c):m,h=(0,o.useCallback)(e=>{let t=(0,eT.A)(e.target.value);null!==t&&s(t)},[s]),p=(0,o.useCallback)(()=>{var e;null==(e=u.current)||e.focus()},[]),b=(0,o.useCallback)(e=>{if("Enter"===e.key||" "===e.key){var t;e.preventDefault(),null==(t=u.current)||t.focus()}},[]),j=(0,o.useCallback)(e=>{let l;if(e===n||!f||!t){null==d||d(e);return}let r=new R.W(t);s("usdc"===n&&"asset"===e?r.div(f).toFixed(6):"asset"===n&&"usdc"===e?r.mul(f).toFixed(2):t),null==d||d(e)},[n,d,f,t,s]),v="usdc"===n?"USD":(0,i.A)(a);return(0,l.jsxs)("div",{className:"bg-layer-1 border border-border-default rounded p-4 flex items-center justify-between relative cursor-text",onClick:p,onKeyDown:b,"aria-label":"Click to focus size input",children:[(0,l.jsx)("div",{className:"text-muted text-sm font-medium uppercase",children:"SIZE"}),(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,l.jsx)("input",{ref:u,type:"text",value:t,onChange:h,placeholder:"0",className:"flex-1 text-default font-bold text-xl bg-transparent border-none outline-none text-right w-full",inputMode:"decimal"}),(0,l.jsxs)(E.bL,{children:[(0,l.jsx)(E.l9,{asChild:!0,children:(0,l.jsxs)("div",{className:"flex items-center gap-1 text-muted text-sm cursor-pointer text-muted hover:text-default transition-colors",children:[(0,l.jsx)("span",{className:"font-medium",children:v}),(0,l.jsx)(L.A,{className:"h-3 w-3"})]})}),(0,l.jsx)(E.ZL,{children:(0,l.jsxs)(E.UC,{className:"bg-layer-1 rounded shadow-sm shadow-layer-3 border border-border-default z-50 w-20 py-1",align:"end",sideOffset:4,children:[(0,l.jsx)(E.q7,{className:"px-3 py-2 text-sm cursor-pointer hover:bg-layer-3 transition-colors outline-none ".concat("usdc"===n?"bg-layer-3 text-default font-medium":"text-muted hover:text-default"),onClick:()=>j("usdc"),children:"USD"}),(0,l.jsx)(E.q7,{className:"px-3 py-2 text-sm cursor-pointer hover:bg-layer-3 transition-colors outline-none ".concat("asset"===n?"bg-layer-3 text-default font-medium":"text-muted hover:text-default"),onClick:()=>j("asset"),children:(0,i.A)(a)})]})})]})]})]})}var eM=s(73302);function eF(e){let{timeInForce:t,setTimeInForce:s}=e;return(0,l.jsx)("div",{className:"flex items-center gap-3 mb-4",children:(0,l.jsxs)(E.bL,{children:[(0,l.jsx)(E.l9,{asChild:!0,children:(0,l.jsxs)("button",{type:"button",className:"flex items-center justify-between gap-1 py-2 px-3 text-sm text-muted hover:text-default font-medium rounded focus:outline-none",children:[(0,l.jsx)("span",{children:t.toUpperCase()}),(0,l.jsx)(L.A,{className:"h-4 w-4"})]})}),(0,l.jsx)(E.ZL,{children:(0,l.jsx)(E.UC,{className:"bg-layer-1 rounded shadow-sm border border-border-default z-10 w-24 py-1",align:"start",children:Object.values(eE.W).map(e=>(0,l.jsx)(E.q7,{className:"w-full text-left px-4 py-2 text-sm hover:bg-layer-3 cursor-pointer outline-none ".concat(t===e?"bg-layer-3 text-default font-medium":"text-muted hover:text-default"),onClick:()=>s(e),children:e.toUpperCase()},e))})})]})})}let e_=new R.A(10);function eW(e,t,s){if(!t||""===t.trim())return new R.A(0);if("usdc"===e){let e=new R.A(t),l="string"==typeof s?new R.A(s):s;return l.lte(0)?new R.A(0):(0,eR.G)(e.div(l))}return(0,eR.G)(new R.A(t))}function eV(e,t,s){if(!t||""===t.trim())return 0;if("usdc"===e)return Number.parseFloat(t);let l="string"==typeof s?new R.A(s):s;return l.lte(0)?Number.parseFloat(t):new R.A(t).mul(l).toNumber()}function eq(e,t,s){let l=t*s;return l>0?Math.round(Math.min(100,Math.max(0,e/l*100))):0}function eG(e,t,s){let l=t*(null!=s?s:1);return l>0?(e/100*l).toFixed(2):"0.00"}function eB(e){var t;let{coin:s,isLong:r,leverage:a,onOrderPreviewChange:n,onSubmit:i,submitRef:d}=e,[c,u]=(0,o.useState)(""),[x,m]=(0,o.useState)("usdc"),[f,h]=(0,o.useState)(0),[p,b]=(0,o.useState)(""),[j,g]=(0,o.useState)(!1),[N,y]=(0,o.useState)(eE.W.Gtc),[w,A]=(0,o.useState)(!1),[C,k]=(0,o.useState)(""),[P,E]=(0,o.useState)(""),L=v(s),T=eP(s,r),O=(0,eE.V)(),I=(0,S.B)(s),z=new R.A((null==L||null==(t=L.availableToTrade)?void 0:t[+!r])||"0").toDecimalPlaces(2,R.A.ROUND_DOWN).toNumber();(0,o.useEffect)(()=>{var e;let t=[];c||t.push("Enter size"),p||t.push("Enter limit price"),p&&e_.gt(eV(x,c,p))&&n({errors:["Min size is 10"]});let s={};p&&c&&(s=T({orderPrice:new R.A(p),assetSize:eW(x,c,p)})),t.push(...null!=(e=s.errors)?e:[]),n({...s,errors:t})},[p,c,n,x,T]);let U=(0,o.useCallback)(e=>{u(e),h(eq(eV(x,e,p),z,a||1))},[a,x,z,p]),M=(0,o.useCallback)(async()=>{let e="placing-order-".concat(Date.now());if(!c||!x||!p)return void D.oR.error("Please fill in all required fields",{duration:5e3});if(!I)throw Error("Data not loaded");try{let t=eW(x,c,p).toString(),s=[];if(s.push({a:I,b:r,p:(0,eD.k)(p).toString(),s:(0,eR.G)(t).toString(),r:j,t:{limit:{tif:N}}}),C){let e=r?R.A.div(C,eL.x).toString():R.A.mul(C,eL.x).toString();s.push({a:I,b:!r,p:(0,eD.k)(e).toString(),s:(0,eR.G)(t).toString(),r:!0,t:{trigger:{isMarket:!0,triggerPx:(0,eD.k)(C).toString(),tpsl:"tp"}}})}if(P){let e=r?R.A.div(P,eL.x).toString():R.A.mul(P,eL.x).toString();s.push({a:I,b:!r,p:(0,eD.k)(e).toString(),s:(0,eR.G)(t).toString(),r:!0,t:{trigger:{isMarket:!0,triggerPx:(0,eD.k)(P).toString(),tpsl:"sl"}}})}if(D.oR.loading("Placing ".concat(r?"Long":"Short"," order"),{id:e}),!await O({orders:s,grouping:w&&s.length>1?"normalTpsl":"na"}))return void D.oR.dismiss(e);D.oR.success("Placed ".concat(r?"Long":"Short"," order"),{id:e}),u(""),b(""),k(""),E(""),g(!1),h(0),i()}catch(t){if(t&&"object"==typeof t&&"code"in t&&"ACTION_REJECTED"===t.code)return void D.oR.dismiss(e);console.error("Error placing order:",t),D.oR.error("".concat(r?"Long":"Short"," order failed"),{id:e,description:t instanceof Error?t.message:"Unknown error",duration:5e3})}},[c,p,r,I,O,j,N,w,C,P,i,x]);return(0,o.useEffect)(()=>{d&&(d.current=M)},[d,M]),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(eO,{value:p,onChange:b,coin:s})}),(0,l.jsx)("div",{children:(0,l.jsx)(eU,{value:c,onChange:U,coin:s,selectedUnit:x,onUnitChange:m,limitPrice:p})}),(0,l.jsx)(eC.A,{value:f,onChange:e=>{if(!a||(h(e),"asset"===x&&!p))return;let t=eG(e,z,a);u("asset"===x?eW("usdc",t,p).toString():t)}}),(0,l.jsx)(eM.oH,{showTPSL:w,setShowTPSL:e=>{A(e),e&&g(!1)},takeProfitPrice:C,setTakeProfitPrice:k,stopLossPrice:P,setStopLossPrice:E,leverage:a||1,basePrice:p?new R.A(p):null,isLong:r}),(0,l.jsxs)("div",{className:"flex flex-row gap-2 justify-between",children:[(0,l.jsx)(ez,{checked:j,onChange:e=>{g(e),e&&A(!1)}}),(0,l.jsx)(eF,{timeInForce:N,setTimeInForce:y})]})]})}function eK(e){let{isLong:t,setIsLong:s,coin:r}=e,{assetPositions:a}=(0,g.u)(),n=a.find(e=>e.position.coin===r);return n&&Number.parseFloat(n.position.szi),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("button",{type:"button",onClick:()=>s(!0),className:"flex-1 py-4 px-4 text-sm font-light rounded transition-colors border ".concat(t?"border-brand-green text-brand-green":"border-border-default text-muted bg-layer-2 hover:bg-layer-1 hover:text-brand-green hover:border-brand-green"),children:"BUY / LONG"}),(0,l.jsx)("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-4 px-4 text-sm font-light rounded transition-color border ".concat(t?"border-border-default text-muted bg-layer-2 hover:bg-layer-1 hover:text-brand-red hover:border-brand-red":"border-brand-red text-brand-red"),children:"SELL / SHORT"})]})}var eH=s(92551);function e$(e){var t;let{coin:s,isLong:a,leverage:n,onOrderPreviewChange:i,onSubmit:d,submitRef:c}=e,[u,x]=(0,o.useState)(""),[m,f]=(0,o.useState)("usdc"),[h,p]=(0,o.useState)(0),[b,j]=(0,o.useState)(!1),[g,N]=(0,o.useState)(eE.W.Gtc),[y,w]=(0,o.useState)(!1),[A,C]=(0,o.useState)(""),[k,P]=(0,o.useState)(""),E=(0,r.A)(s),L=v(s),T=eP(s,a),O=(0,eE.V)(),I=(0,S.B)(s),{bestBid:z,bestAsk:U}=(0,eH.A)(s),M=null==z?void 0:z.toString(),F=null==U?void 0:U.toString(),_=(0,o.useMemo)(()=>{let e=a?F:M;return e?new R.A(e):null},[a,M,F]),W=new R.A((null==L||null==(t=L.availableToTrade)?void 0:t[+!a])||"0").toDecimalPlaces(2,R.A.ROUND_DOWN).toNumber();(0,o.useEffect)(()=>{var e;let t=[];u||t.push("Enter size"),_&&e_.gt(eV(m,u,_))&&t.push("Min size is 10");let s={};_&&u&&(s=T({orderPrice:_,assetSize:eW(m,u,_)})),t.push(...null!=(e=s.errors)?e:[]),i({...s,errors:t})},[u,i,m,_,T]);let V=(0,o.useCallback)(e=>{if(x(e),!_)return void p(0);p(eq(eV(m,e,_),W,n||1))},[n,m,W,_]),q=(0,o.useCallback)(async()=>{let e="placing-order-".concat(Date.now());if(!u||!m)return void D.oR.error("Please fill in all required fields");if(!I||!_)throw Error("Data not loaded");try{let t=eW(m,u,_).toString();if(!E)throw Error("Asset context not available for size conversion");let s=_.mul(eL.x),l=_.div(eL.x),r=a?s:l,n=[];if(n.push({a:I,b:a,p:(0,eD.k)(r).toString(),s:(0,eR.G)(t).toString(),r:b,t:{limit:{tif:g===eE.W.Gtc?"FrontendMarket":g}}}),A){let e=a?R.A.div(A,eL.x).toString():R.A.mul(A,eL.x).toString();n.push({a:I,b:!a,p:(0,eD.k)(e).toString(),s:(0,eR.G)(t).toString(),r:!0,t:{trigger:{isMarket:!0,triggerPx:(0,eD.k)(A).toString(),tpsl:"tp"}}})}if(k){let e=a?R.A.div(k,eL.x).toString():R.A.mul(k,eL.x).toString();n.push({a:I,b:!a,p:(0,eD.k)(e).toString(),s:(0,eR.G)(t).toString(),r:!0,t:{trigger:{isMarket:!0,triggerPx:(0,eD.k)(k).toString(),tpsl:"sl"}}})}if(D.oR.loading("Placing ".concat(a?"Long":"Short"," order"),{id:e}),!await O({orders:n,grouping:y&&n.length>1?"normalTpsl":"na"}))return void D.oR.dismiss(e);D.oR.success("Placed ".concat(a?"Long":"Short"," order"),{id:e}),x(""),C(""),P(""),j(!1),p(0),d()}catch(t){if(t&&"object"==typeof t&&"code"in t&&"ACTION_REJECTED"===t.code)return void D.oR.dismiss(e);console.error("Error placing order:",t),D.oR.error("".concat(a?"Long":"Short"," order failed"),{id:e,description:t instanceof Error?t.message:"Unknown error",duration:5e3})}},[u,m,a,O,b,E,I,g,y,A,k,d,_]);return(0,o.useEffect)(()=>{c&&(c.current=q)},[c,q]),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(eU,{value:u,onChange:V,coin:s,selectedUnit:m,onUnitChange:f})}),(0,l.jsx)(eC.A,{value:h,onChange:e=>{if(p(e),!n||"asset"===m&&!_)return;let t=eG(e,W,n);x("asset"===m?eW("usdc",t,null!=_?_:"").toString():t)}}),(0,l.jsx)(eM.oH,{showTPSL:y,setShowTPSL:e=>{w(e),e&&j(!1)},takeProfitPrice:A,setTakeProfitPrice:C,stopLossPrice:k,setStopLossPrice:P,leverage:n||1,isLong:a,basePrice:_}),(0,l.jsx)(ez,{checked:b,onChange:e=>{j(e),e&&w(!1)}})]})}function eY(e){let{orderType:t,setOrderType:s}=e;return(0,l.jsx)("div",{className:"flex justify-between border-b border-border-default",children:(0,l.jsxs)("div",{className:"flex items-center w-full",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>s("market"),className:"relative uppercase text-sm font-medium transition-colors py-4 flex-1 text-center ".concat("market"===t?"text-default font-bold":"text-muted hover:text-default"),children:["MARKET","market"===t&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>s("limit"),className:"relative uppercase text-sm font-medium transition-colors py-4 flex-1 text-center ".concat("limit"===t?"text-default font-bold":"text-muted hover:text-default"),children:["LIMIT","limit"===t&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)(E.bL,{children:[(0,l.jsx)(E.l9,{asChild:!0,children:(0,l.jsxs)("button",{type:"button",className:"relative uppercase text-sm font-medium transition-colors py-4 flex-1 text-center flex items-center justify-center w-full focus:outline-none ".concat("stop_market"===t||"stop_limit"===t?"text-default font-bold":"text-muted hover:text-default"),children:["stop_market"===t?"STOP MKT":"stop_limit"===t?"STOP LIMIT":"STOP",(0,l.jsx)(L.A,{className:"h-4 w-4 ml-2"}),("stop_market"===t||"stop_limit"===t)&&(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})]})}),(0,l.jsx)(E.ZL,{children:(0,l.jsxs)(E.UC,{className:"bg-layer-1 rounded shadow-lg border border-border-default z-10 w-48 py-1",align:"center",children:[(0,l.jsx)(E.q7,{className:"w-full text-left px-4 py-2 text-sm hover:bg-layer-3 cursor-pointer outline-none ".concat("stop_market"===t?"bg-layer-3 text-default font-medium":"text-muted hover:text-default"),onClick:()=>s("stop_market"),children:"STOP MARKET"}),(0,l.jsx)(E.q7,{className:"w-full text-left px-4 py-2 text-sm hover:bg-layer-3 cursor-pointer outline-none ".concat("stop_limit"===t?"bg-layer-3 text-default font-medium":"text-muted hover:text-default"),onClick:()=>s("stop_limit"),children:"STOP LIMIT"})]})})]})})]})})}function eQ(e){let{value:t,onChange:s,label:r="STOP PRICE"}=e,a=(0,o.useRef)(null),n=(0,o.useCallback)(()=>{var e;null==(e=a.current)||e.focus()},[]),i=(0,o.useCallback)(e=>{if("Enter"===e.key||" "===e.key){var t;e.preventDefault(),null==(t=a.current)||t.focus()}},[]);return(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"bg-layer-1 border border-border-default rounded p-4 flex items-center justify-between relative cursor-text",onClick:n,onKeyDown:i,"aria-label":"Click to focus stop price input",children:[(0,l.jsx)("div",{className:"text-muted text-sm font-medium uppercase flex flex-col",children:r}),(0,l.jsx)("div",{className:"flex flex-1 items-center gap-2",children:(0,l.jsx)("input",{ref:a,type:"text",value:t,onChange:e=>{let t=(0,eT.A)(e.target.value);null!==t&&s(t)},placeholder:"0.00",className:"flex-1 text-default font-bold text-xl bg-transparent border-none outline-none text-right w-20",inputMode:"decimal"})})]})})}function eZ(e){var t;let{coin:s,isLong:a,leverage:n,onOrderPreviewChange:i,onSubmit:d,submitRef:c}=e,[u,x]=(0,o.useState)(""),[m,f]=(0,o.useState)("usdc"),[h,p]=(0,o.useState)(0),[b,j]=(0,o.useState)(""),[g,N]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),A=(0,r.A)(s),C=v(s),k=eP(s,a),P=(0,eE.V)(),E=(0,S.B)(s),L=new R.A((null==C||null==(t=C.availableToTrade)?void 0:t[+!a])||"0").toDecimalPlaces(2,R.A.ROUND_DOWN).toNumber();(0,o.useEffect)(()=>{var e;let t=[];b||t.push("Enter stop price"),g||t.push("Enter limit price"),u||t.push("Enter size"),g&&e_.gt(eV(m,u,g))&&i({errors:["Min size is 10"]});let s={};g&&u&&(s=k({orderPrice:new R.A(g),assetSize:eW(m,u,g)})),t.push(...null!=(e=s.errors)?e:[]),i({...s,errors:t})},[g,u,i,m,k,b]);let T=(0,o.useCallback)(e=>{x(e),p(eq(eV(m,e,new R.A(A?A.markPx:0)),L,n||1))},[n,m,L,A]),O=(0,o.useCallback)(async()=>{let e="placing-order-".concat(Date.now());if(!u||!b||!g)return void D.oR.error("Please fill in all required fields",{duration:5e3});if(!E)throw Error("Data not loaded");try{let t=eW(m,u,g).toString();if(D.oR.loading("Placing ".concat(a?"Long":"Short"," order"),{id:e}),!await P({orders:[{a:E,b:a,p:(0,eD.k)(g).toString(),s:(0,eR.G)(t).toString(),r:y,t:{trigger:{isMarket:!1,triggerPx:b,tpsl:"sl"}}}],grouping:"na"}))return void D.oR.dismiss(e);D.oR.success("Placed ".concat(a?"Long":"Short"," order"),{id:e}),x(""),j(""),N(""),w(!1),p(0),d()}catch(t){if(t&&"object"==typeof t&&"code"in t&&"ACTION_REJECTED"===t.code)return void D.oR.dismiss(e);console.error("Error placing order:",t),D.oR.error("".concat(a?"Long":"Short"," order failed"),{id:e,description:t instanceof Error?t.message:"Unknown error",duration:5e3})}},[u,b,g,m,a,P,y,d,E]);return(0,o.useEffect)(()=>{c&&(c.current=O)},[c,O]),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(eQ,{value:b,onChange:j})}),(0,l.jsx)("div",{children:(0,l.jsx)(eQ,{value:g,onChange:N,label:"LIMIT PRICE"})}),(0,l.jsx)("div",{children:(0,l.jsx)(eU,{value:u,onChange:T,coin:s,selectedUnit:m,onUnitChange:f})}),(0,l.jsx)(eC.A,{value:h,onChange:e=>{if(p(e),!n||"asset"===m&&!g)return;let t=eG(e,L,n);x("asset"===m?eW("usdc",t,g).toString():t)}}),(0,l.jsx)("div",{className:"flex flex-row gap-2 justify-between",children:(0,l.jsx)(ez,{checked:y,onChange:w})})]})}function eJ(e){var t;let{coin:s,isLong:a,leverage:n,onOrderPreviewChange:i,onSubmit:d,submitRef:c}=e,[u,x]=(0,o.useState)(""),[m,f]=(0,o.useState)("usdc"),[h,p]=(0,o.useState)(0),[b,j]=(0,o.useState)(""),[g,N]=(0,o.useState)(!1),y=(0,r.A)(s),w=v(s),A=eP(s,a),C=(0,eE.V)(),k=(0,S.B)(s),{bestBid:P,bestAsk:E}=(0,eH.A)(s),L=(0,o.useMemo)(()=>null==P?void 0:P.toString(),[P]),T=(0,o.useMemo)(()=>null==E?void 0:E.toString(),[E]),O=(0,o.useMemo)(()=>{let e=a?T:L;return e?new R.A(e):null},[a,L,T]),I=new R.A((null==w||null==(t=w.availableToTrade)?void 0:t[+!a])||"0").toDecimalPlaces(2,R.A.ROUND_DOWN).toNumber(),z=(0,o.useCallback)(e=>{if(x(e),!O)return void p(0);p(eq(eV(m,e,O),I,n||1))},[n,m,I,O]);(0,o.useEffect)(()=>{var e;let t=[];u||t.push("Enter size"),b||t.push("Enter stop price"),O&&e_.gt(eV(m,u,O))&&t.push("Min size is 10");let s={};O&&u&&(s=A({orderPrice:O,assetSize:eW(m,u,O)})),t.push(...null!=(e=s.errors)?e:[]),i({...s,errors:t})},[u,i,m,O,b,A]);let U=(0,o.useCallback)(async()=>{let e="placing-order-".concat(Date.now());if(!u||!b)return void D.oR.error("Please fill in all required fields",{duration:5e3});if(!k||!O)throw Error("Data not loaded");try{let t=eW(m,u,O).toString();if(!y)throw Error("Asset context not available for size conversion");let s=a?R.A.mul(b,eL.x).toString():R.A.div(b,eL.x).toString();if(D.oR.loading("Placing ".concat(a?"Long":"Short"," order"),{id:e}),!await C({orders:[{a:k,b:a,p:(0,eD.k)(s).toString(),s:(0,eR.G)(t).toString(),r:g,t:{trigger:{isMarket:!0,triggerPx:b,tpsl:"sl"}}}],grouping:"na"}))return void D.oR.dismiss(e);D.oR.success("Placed ".concat(a?"Long":"Short"," order"),{id:e}),x(""),j(""),N(!1),p(0),d()}catch(t){if(t&&"object"==typeof t&&"code"in t&&"ACTION_REJECTED"===t.code)return void D.oR.dismiss(e);console.error("Error placing order:",t),D.oR.error("".concat(a?"Long":"Short"," order failed"),{id:e,description:t instanceof Error?t.message:"Unknown error",duration:5e3})}},[u,b,m,a,C,g,d,k,O,y]);return(0,o.useEffect)(()=>{c&&(c.current=U)},[c,U]),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(eQ,{value:b,onChange:j})}),(0,l.jsx)("div",{children:(0,l.jsx)(eU,{value:u,onChange:z,coin:s,selectedUnit:m,onUnitChange:f})}),(0,l.jsx)(eC.A,{value:h,onChange:e=>{if(p(e),!n||"asset"===m&&!O)return;let t=eG(e,I,n);x("asset"===m?eW("usdc",t,null!=O?O:"").toString():t)}}),(0,l.jsx)("div",{className:"flex flex-row gap-2 justify-between",children:(0,l.jsx)(ez,{checked:g,onChange:N})})]})}function eX(){var e,t,s,r,a,n,i;let c=x(),u=function(e){let t=(0,m.useSearchParams)(),s=(0,z.$g)(e);return"true"===t.get("enabled")||(null==s?void 0:s.tradingEnabled)}(c),f=v(c),h=null==f||null==(e=f.leverage)?void 0:e.value,{isLong:b,setIsLong:j}=p(),[g,N]=(0,o.useState)("market"),[y,w]=(0,o.useState)(!1),[A,S]=(0,o.useState)(null),C=(0,o.useRef)(null),k=async()=>{if(C.current){w(!0);try{await C.current()}finally{w(!1)}}},P=(0,o.useMemo)(()=>"market"===g?(0,l.jsx)(e$,{coin:c,isLong:b,leverage:h,onOrderPreviewChange:S,onSubmit:()=>{},isLoading:y,submitRef:C}):"limit"===g?(0,l.jsx)(eB,{coin:c,isLong:b,leverage:h,onOrderPreviewChange:S,onSubmit:()=>{},isLoading:y,submitRef:C}):"stop_market"===g?(0,l.jsx)(eJ,{coin:c,isLong:b,leverage:h,onOrderPreviewChange:S,onSubmit:()=>{},isLoading:y,submitRef:C}):"stop_limit"===g?(0,l.jsx)(eZ,{coin:c,isLong:b,leverage:h,onOrderPreviewChange:S,onSubmit:()=>{},isLoading:y,submitRef:C}):void 0,[g,c,b,h,y]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eY,{orderType:g,setOrderType:N}),(0,l.jsxs)("div",{className:"bg-layer-1 text-default p-4 flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)(eK,{isLong:b,setIsLong:j,coin:c})}),P,(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2 text-xs",children:[(0,l.jsx)("span",{className:"text-muted",children:"LIQUIDATION"}),(0,l.jsx)("span",{children:A&&A.liquidationPrice?(0,d.A)(A.liquidationPrice.toNumber()):"--"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,l.jsx)("span",{className:"text-muted",children:"TOTAL COST"}),(0,l.jsx)("span",{children:A?(0,d.A)(null!=(a=null==(r=A.usdcSize)?void 0:r.toNumber())?a:0,{variant:"long"}):"--"})]})]}),(0,l.jsx)("button",{type:"button",onClick:k,disabled:!u||y||!A||(null!=(s=null==(t=A.errors)?void 0:t.length)?s:0)>0,className:"bg-brand-green text-default hover:bg-brand-green/90 disabled:bg-layer-3 disabled:text-muted disabled:cursor-not-allowed text-sm font-bold py-3 px-4 rounded w-6/12",children:u?y?"PLACING ORDER...":(null==A||null==(n=A.errors)?void 0:n.length)?null==(i=A.errors[0])?void 0:i.toUpperCase():"CONFIRM TRADE":"COMING SOON"})]})]})]})}var e0=s(15142),e1=s(31602),e2=s(91039),e4=s(8139);let e3=(0,e2.default)(()=>s.e(242).then(s.bind(s,70242)).then(e=>e.TradingViewChart),{loadableGenerated:{webpack:()=>[70242]},ssr:!1});function e5(e){var t;let{className:s}=e,r=x(),a=(0,C.b)(),{transport:n}=(0,e1.L)(),{user:i}=(0,w.Jd)(),[d,c]=(0,o.useState)(!1),u=(0,o.useMemo)(()=>{var e;return d&&n?(0,l.jsx)(e3,{isTestnet:a,transport:n,symbol:r,fullscreen:!1,user:null==i||null==(e=i.wallet)?void 0:e.address}):null},[d,n,r,a,null==i||null==(t=i.wallet)?void 0:t.address]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e4.default,{src:"/static/datafeeds/udf/dist/bundle.js",strategy:"afterInteractive",onReady:()=>{c(!0)}}),(0,l.jsx)("div",{className:s,children:u})]})}function e6(){return(0,l.jsxs)("main",{className:"hidden md:block flex-1 overflow-hidden relative",children:[(0,l.jsx)("div",{className:"h-full flex flex-row pb-[40px]",children:(0,l.jsx)("div",{className:"flex-1 scrollbar-hidden overflow-y-auto",children:(0,l.jsxs)("div",{className:"grid grid-cols-[1fr_450px] grid-rows-[min-content_1fr] h-full",children:[(0,l.jsx)(ep,{}),(0,l.jsx)(O,{}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,l.jsx)(e5,{className:"w-full min-h-[600px] max-h-[740px] flex items-center justify-center"}),(0,l.jsx)(eS,{})]}),(0,l.jsx)("div",{className:"border-l border-border-default min-w-[400px]",children:(0,l.jsx)(ea,{})})]}),(0,l.jsxs)("div",{className:"flex flex-col border-l border-border-default",children:[(0,l.jsx)(eX,{}),(0,l.jsxs)("div",{className:"border-t border-border-default",children:[(0,l.jsx)(ej,{className:"border-b border-border-default"}),(0,l.jsx)(B,{})]})]})]})})}),(0,l.jsx)(e0.default,{})]})}var e7=s(18107),e8=s(15870);function e9(){return(0,l.jsx)("div",{className:"h-16 w-full bg-layer-3"})}function te(e){let{className:t}=e,s=x(),a=(0,z.$g)(s),n=(0,r.A)(s),[c,u]=(0,o.useState)(null),[m,f]=(0,o.useState)(null),h=(0,o.useRef)(null);return((0,o.useEffect)(()=>{if((null==n?void 0:n.midPx)&&c&&n.midPx!==c){let e=Number(n.midPx),t=Number(c);e>t?f("up"):e<t&&f("down"),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{f(null)},1e3)}(null==n?void 0:n.midPx)&&u(n.midPx)},[null==n?void 0:n.midPx,c]),(0,o.useEffect)(()=>()=>{h.current&&clearTimeout(h.current)},[]),null==n?void 0:n.midPx)?(0,l.jsx)("div",{className:(0,_.A)("flex items-center md:px-4",t),children:(null==n?void 0:n.midPx)?(0,l.jsx)(q.A,{content:"Company valuations are divided by 1 billion and represented as Valuation Units for easy readability. For example, if the valuation of ".concat((null==a?void 0:a.name)||"OpenAI"," on Ventuals is at ").concat((0,d.A)(new R.A(n.midPx).toNumber()),"B, then the price of 1 ").concat((0,i.A)(s)," = ").concat((0,d.A)(new R.A(n.midPx).toNumber()),"."),children:(0,l.jsxs)("div",{className:"flex flex-col items-end",children:[(0,l.jsx)("div",{className:"text-muted text-xs underline decoration-dashed underline-offset-2",children:"PRICE"}),(0,l.jsx)("div",{className:"text-sm transition-all duration-1000 ".concat("up"===m?"text-brand-green":"down"===m?"text-brand-red":"text-default"),children:(0,l.jsxs)("div",{className:"flex items-center gap-[2px] cursor-pointer",children:[(0,l.jsx)("span",{children:(0,d.A)(new R.A(n.midPx).toNumber())}),(0,l.jsx)("span",{className:"text-muted text-sm",children:"B"})]})})]})}):(0,l.jsxs)("div",{className:"flex flex-col items-end",children:[(0,l.jsx)("div",{className:"text-muted text-xs underline decoration-dashed underline-offset-2",children:"PRICE"}),(0,l.jsx)("div",{className:"text-sm font-bold transition-all duration-1000 text-default",children:"--"})]})}):(0,l.jsx)("div",{className:(0,_.A)("flex items-center md:px-4",t),children:(0,l.jsxs)("div",{className:"flex flex-col items-end animate-pulse",children:[(0,l.jsx)("div",{className:"h-3 w-8 bg-layer-2 rounded mb-1"}),(0,l.jsx)("div",{className:"h-4 w-16 bg-layer-2 rounded"})]})})}let tt=()=>{let e=x(),t=(0,z.$g)(e);return t?(0,l.jsxs)("header",{className:"fixed top-0 z-10 h-16 flex justify-between items-center border-b border-border-default bg-layer-1 w-screen md:hidden",children:[(0,l.jsx)("div",{className:"flex items-center h-full",children:(0,l.jsxs)("div",{className:"flex items-center justify-center md:border-r border-border-default p-4 h-full gap-2",children:[(0,l.jsx)(M(),{href:"/trade/",className:"flex items-center gap-2",children:(0,l.jsx)(e8.A,{className:"h-5 w-5 text-muted"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(eu.default,{src:t.logo,alt:t.name,width:38,height:38,className:"h-8 w-8 rounded-full"}),(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("h2",{className:"text-md",children:t.name}),(0,l.jsx)("span",{className:"text-xs text-muted",children:(0,i.A)(e)})]})]})]})}),(0,l.jsx)("div",{className:"flex items-center h-full px-4 gap-4",children:(0,l.jsx)(te,{className:"md:border-x md:border-border-default h-full"})})]}):(0,l.jsx)(e9,{})},ts=e=>{let{selectedTab:t,setSelectedTab:s}=e,r=e=>t===e,a=e=>"".concat("flex-1 flex items-center h-full justify-center font-medium uppercase transition-colors cursor-pointer"," ").concat(r(e)?"bg-brand-green-faded text-default relative":"text-muted hover:text-default"),n=e=>r(e)?(0,l.jsx)("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-brand-green"}):null;return(0,l.jsx)("footer",{className:"fixed bottom-0 left-0 z-20 bg-layer-1 border-t text-sm border-border-default md:hidden w-screen",children:(0,l.jsxs)("div",{className:"flex items-center max-w-screen-sm mx-auto h-16",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>s("charts"),className:a("charts"),children:[n("charts"),"Charts"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>s("trade"),className:a("trade"),children:[n("trade"),"TRADE"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>s("details"),className:a("details"),children:[n("details"),"Details"]})]})})};function tl(){let[e,t]=(0,o.useState)("charts");return(0,l.jsxs)("div",{className:"md:hidden",children:[(0,l.jsx)(tt,{}),(0,l.jsx)("main",{className:"flex-1 overflow-hidden relative mt-16",children:(0,l.jsx)("div",{className:"h-full flex flex-row",children:(0,l.jsxs)("div",{className:"flex-1 scrollbar-hidden overflow-y-auto",children:["charts"===e&&(0,l.jsx)(td,{}),"trade"===e&&(0,l.jsx)(tr,{}),"details"===e&&(0,l.jsx)(ta,{})]})})}),(0,l.jsx)(ts,{selectedTab:e,setSelectedTab:t})]})}function tr(){return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(O,{}),(0,l.jsx)(eX,{})]})}function ta(){let e=x(),{assetPositions:t}=(0,g.u)(),s=(0,r.A)(e);(0,eE.V)(),(0,S.B)(e);let[a,n]=(0,o.useState)(!1),[i,d]=(0,o.useState)(!1),c=t.find(t=>t.position.coin===e);return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(tn,{position:c,assetContext:s,onClose:()=>{n(!0)}}),(0,l.jsx)("div",{className:"h-[1px] bg-border-default"}),(0,l.jsx)(ti,{}),(0,l.jsx)(e7.A,{isOpen:a,onClose:()=>{n(!1)},position:c||null})]})}function tn(e){let{position:t,assetContext:s,onClose:r}=e;if(!t||!s)return(0,l.jsxs)("div",{className:"text-center py-8 font-sans",children:[(0,l.jsx)("div",{className:"text-xl font-medium text-default mb-2",children:"No position"}),(0,l.jsx)("div",{className:"text-lg text-muted w-1/2 mx-auto",children:"Start trading to view an active position here."})]});let a=Number.parseFloat(t.position.szi)>0,n=Number.parseFloat(t.position.szi),o=Number.parseFloat(t.position.entryPx||"0"),c=(0,d.A)(n*o),u=Number.parseFloat(t.position.unrealizedPnl||"0"),x=o>0?u/(n*o)*100:0,m=s.markPx,f=t.position.liquidationPx?Number.parseFloat(t.position.liquidationPx):null,h=t.position.leverage.value;return(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-default",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-default font-sans",children:"Your position"}),(0,l.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-brand-red border border-brand-red rounded hover:bg-layer-2 transition-colors",children:"CLOSE"})]}),(0,l.jsx)("div",{className:"p-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs uppercase text-muted mb-1",children:"SIDE"}),(0,l.jsx)("span",{className:"text-sm font-medium ".concat(a?"text-brand-green":"text-brand-red"),children:a?"LONG":"SHORT"})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs uppercase text-muted mb-1",children:"AMOUNT"}),(0,l.jsx)("span",{className:"text-sm font-medium text-default",children:c})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs uppercase text-muted mb-1",children:"SIZE"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-default",children:[(0,eb.A)(Math.abs(n))," ",(0,i.A)(t.position.coin)]})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs uppercase text-muted mb-1",children:"PNL"}),(0,l.jsxs)("span",{className:"text-sm font-medium ".concat(x>=0?"text-brand-green":"text-brand-red"),children:[x>=0?"+":"",x.toFixed(2),"%"]})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs uppercase text-muted mb-1",children:"LEVERAGE"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-default",children:[h,"\xd7"]})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs uppercase text-muted mb-1",children:"MARK"}),(0,l.jsx)("span",{className:"text-sm font-medium text-default",children:(0,d.A)(Number.parseFloat(m))})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs uppercase text-muted mb-1",children:"LIQUIDATION"}),(0,l.jsx)("span",{className:"text-sm font-medium text-default",children:f?(0,d.A)(f):"-"})]})]})})]})}function ti(){return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(K,{}),(0,l.jsxs)("div",{className:"p-4 border-t border-border-default",children:[(0,l.jsx)("h3",{className:"text-xs uppercase text-muted font-mono mb-4",children:"News"}),(0,l.jsx)(W,{})]})]})}function td(){let[e,t]=(0,o.useState)("chart");return(0,l.jsxs)("div",{className:"flex flex-col flex-1 h-[calc(100vh-138px)]",children:[(0,l.jsx)(ep,{}),(0,l.jsx)(to,{selectedTab:e,setSelectedTab:t}),"chart"===e&&(0,l.jsx)(e5,{className:"w-full h-full flex items-center justify-center flex-1"}),"orderbook"===e&&(0,l.jsx)(et,{}),"trades"===e&&(0,l.jsx)(er,{})]})}function to(e){let{selectedTab:t,setSelectedTab:s}=e,r=e=>t===e,a=e=>"".concat("flex items-center justify-center px-6 py-4 uppercase text-sm h-full hover:text-default relative"," ").concat(r(e)?"text-default":"text-muted");function n(){return(0,l.jsx)("div",{className:"absolute bottom-[-1.5px] left-0 right-0 h-[2px] bg-brand-green"})}return(0,l.jsxs)("div",{className:"flex justify-between h-12 items-center border-b border-border-default bg-layer-1",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>s("chart"),className:a("chart"),children:["price",r("chart")&&(0,l.jsx)(n,{})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>s("orderbook"),className:a("orderbook"),children:["orders",r("orderbook")&&(0,l.jsx)(n,{})]}),(0,l.jsxs)("button",{type:"button",onClick:()=>s("trades"),className:a("trades"),children:["trades",r("trades")&&(0,l.jsx)(n,{})]})]})}function tc(e){var t;let{params:s}=e,{slug:c}=(0,o.use)(s),x=(t=(0,a.n)(),c.toLowerCase().startsWith("v")?"".concat(t,":v").concat(c.slice(1).toUpperCase()):c.toUpperCase()),m=(0,r.A)(x),f=(0,n.B)();return(0,o.useEffect)(()=>{let e=m?"".concat((0,d.A)(Number(m.midPx))," | "):"";document.title="".concat(e).concat((0,i.A)(x)," | Ventuals")},[m,x]),(0,l.jsx)(u,{coin:x,children:(0,l.jsx)(h,{children:f?(0,l.jsx)(tl,{}):(0,l.jsx)(e6,{})})})}},75174:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(54568),r=s(74472),a=s(71261),n=s(13672);let i=e=>{let{className:t=""}=e,{isDarkMode:s,toggleDarkMode:i}=(0,r.D)();return(0,l.jsx)("button",{type:"button",onClick:i,className:"cursor-pointer transition-colors ".concat(t),title:"Switch to ".concat(s?"light":"dark"," mode"),children:s?(0,l.jsx)(a.A,{className:"h-4 w-4 text-brand-yellow"}):(0,l.jsx)(n.A,{className:"h-4 w-4 text-muted"})})}},91577:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(54568);function r(e){let{className:t="",width:s=16,height:r=16}=e;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"optimizeQuality",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 512 462.799",width:s,height:r,className:t,fill:"currentColor",children:[(0,l.jsx)("title",{children:"X"}),(0,l.jsx)("path",{fillRule:"nonzero",d:"M403.229 0h78.506L310.219 196.04 512 462.799H354.002L230.261 301.007 88.669 462.799h-78.56l183.455-209.683L0 0h161.999l111.856 147.88L403.229 0zm-27.556 415.805h43.505L138.363 44.527h-46.68l283.99 371.278z"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4424,9249,5897,1800,5291,4759,9899,757,607,4923,3370,6668,9762,1914,9101,6010,4945,8901,587,8315,7358],()=>t(48730)),_N_E=e.O()}]);